<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Java新特性学习笔记 | Kisugi Takumi</title><meta name="keywords" content="Java"><meta name="author" content="Kisugi Takumi,zenghongyi1@google.com"><meta name="copyright" content="Kisugi Takumi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="一次编译，四处运行。">
<meta property="og:type" content="article">
<meta property="og:title" content="Java新特性学习笔记">
<meta property="og:url" content="https://kisugitakumi.github.io/2022/04/12/Java%E6%96%B0%E7%89%B9%E6%80%A7%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Kisugi Takumi">
<meta property="og:description" content="一次编译，四处运行。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://kisugitakumi.github.io/img/java.png">
<meta property="article:published_time" content="2022-04-12T06:46:25.000Z">
<meta property="article:modified_time" content="2022-04-15T09:04:24.628Z">
<meta property="article:author" content="Kisugi Takumi">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://kisugitakumi.github.io/img/java.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://kisugitakumi.github.io/2022/04/12/Java%E6%96%B0%E7%89%B9%E6%80%A7%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Kisugi Takumi","link":"链接: ","source":"来源: Kisugi Takumi","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Java新特性学习笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-04-15 17:04:24'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/favicon.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">93</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">65</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-brain"></i><span> 我的豆瓣</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书籍</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fab fa-steam-square"></i><span> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/create/"><i class="fa-fw fas fa-user-edit"></i><span> 我的创作</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-kiss-wink-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Kisugi Takumi</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-brain"></i><span> 我的豆瓣</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书籍</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fab fa-steam-square"></i><span> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/create/"><i class="fa-fw fas fa-user-edit"></i><span> 我的创作</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-kiss-wink-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Java新特性学习笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-12T06:46:25.000Z" title="发表于 2022-04-12 14:46:25">2022-04-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-04-15T09:04:24.628Z" title="更新于 2022-04-15 17:04:24">2022-04-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/">开发基础</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">6.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>26分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Java新特性学习笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div><article class="post-content" id="article-container"><h1 id="Java新特性学习笔记"><a href="#Java新特性学习笔记" class="headerlink" title="Java新特性学习笔记"></a>Java新特性学习笔记</h1><p>学习来源：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Kb411W75N">尚硅谷</a></p>
<p>学习时间：2022年4月12日</p>
<h2 id="1-Java8新特性"><a href="#1-Java8新特性" class="headerlink" title="1 Java8新特性"></a>1 Java8新特性</h2><h3 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h3><p>Java 8 (又称为 jdk 1.8) 是 Java 语言开发的一个主要版本。Java 8 是oracle公司于2014年3月发布，可以看成是自Java 5 以来最具革命性的版本。Java 8为Java语言、编译器、类库、开发工具与JVM带来了大量新特性。</p>
<blockquote>
<p>特点</p>
</blockquote>
<ul>
<li>速度更快</li>
<li>代码更少(增加了新的语法：Lambda 表达式) </li>
<li>强大的 Stream API</li>
<li>便于并行</li>
<li>最大化减少空指针异常：Optional</li>
<li>Nashorn引擎，允许在JVM上运行JS应用</li>
</ul>
<h3 id="1-2-Lambda表达式"><a href="#1-2-Lambda表达式" class="headerlink" title="1.2 Lambda表达式"></a>1.2 Lambda表达式</h3><h4 id="1-2-1-概述"><a href="#1-2-1-概述" class="headerlink" title="1.2.1 概述"></a>1.2.1 概述</h4><p>Lambda 是一个<strong>匿名函数</strong>，我们可以把 Lambda 表达式理解为是一段可以传递的代码（将代码像数据一样进行传递）。使用它可以写出更简洁、更灵活的代码。作为一种更紧凑的代码风格，使Java的语言表达能力得到了提升。</p>
<blockquote>
<p>代码示例</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test0</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Runnable r1 = <span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    r1.run();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// lambda表达式</span></span><br><span class="line">    Runnable r2 = () -&gt; System.out.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">    r2.run();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Comparator&lt;Integer&gt; com1 = <span class="keyword">new</span> Comparator&lt;Integer&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer o1, Integer o2)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Integer.compare(o1, o2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    System.out.println(com1.compare(<span class="number">12</span>, <span class="number">21</span>)); <span class="comment">// -1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// lambda表达式</span></span><br><span class="line">    Comparator&lt;Integer&gt; com2 = (o1, o2) -&gt; Integer.compare(o1, o2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 方法引用</span></span><br><span class="line">    Comparator&lt;Integer&gt; com3 = Integer::compare;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="1-2-2-语法"><a href="#1-2-2-语法" class="headerlink" title="1.2.2 语法"></a>1.2.2 语法</h4><ul>
<li>Lambda 表达式：在Java 8 语言中引入的一种新的语法元素和操作符。这个操作符为 <code>-&gt;</code> ， 该操作符被称为 Lambda 操作符或箭头操作符。它将 Lambda 分为两个部分<ul>
<li>左侧：指定了 Lambda 表达式需要的<strong>参数列表</strong>，其实就是接口中的抽象方法的形参列表</li>
<li>右侧：指定了 Lambda 体，是抽象方法的实现逻辑，也即Lambda表达式要执行的功能，其实就是重写的抽象方法的方法体</li>
</ul>
</li>
<li>本质：<strong>作为抽象接口的实例</strong></li>
</ul>
<blockquote>
<p>语法格式和代码示例</p>
</blockquote>
<ul>
<li>无参，无返回值</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 无参无返回值</span></span><br><span class="line">Runnable r2 = () -&gt; System.out.println(<span class="string">&quot;Hello World&quot;</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>Lambda 需要一个参数，但是没有返回值</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Consumer&lt;String&gt; con1 = <span class="keyword">new</span> Consumer&lt;String&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        System.out.println(s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">con1.accept(<span class="string">&quot;Mark&quot;</span>); <span class="comment">// Mark</span></span><br><span class="line"><span class="comment">// lambda</span></span><br><span class="line">Consumer&lt;String&gt; con2 = (String s) -&gt; System.out.println(s);</span><br><span class="line">con2.accept(<span class="string">&quot;Hongyi&quot;</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>数据类型可以省略，因为可由编译器推断得出，称为<strong>“类型推断”</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lambda，类型推断</span></span><br><span class="line">Consumer&lt;String&gt; con2 = (s) -&gt; System.out.println(s);</span><br><span class="line">con2.accept(<span class="string">&quot;Hongyi&quot;</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>Lambda 若只需要一个参数时，参数的小括号可以省略</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Consumer&lt;String&gt; con2 = s -&gt; System.out.println(s);</span><br><span class="line">con2.accept(<span class="string">&quot;Hongyi&quot;</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>Lambda 需要两个或以上的参数，多条执行语句，并且可以有返回值</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Comparator&lt;Integer&gt; com = (x, y) -&gt; &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;比较两个数的大小: &quot;</span>+ x + <span class="string">&quot;和&quot;</span> + y);</span><br><span class="line">    <span class="keyword">return</span> Integer.compare(x, y);</span><br><span class="line">&#125;;</span><br><span class="line">System.out.println(com.compare(<span class="number">1</span>, <span class="number">2</span>));</span><br></pre></td></tr></table></figure>
<ul>
<li>当 Lambda 体只有一条语句时，return 与大括号若有，都可以省略</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Comparator&lt;Integer&gt; com = (o1, o2) -&gt; Integer.compare(o1, o2);</span><br></pre></td></tr></table></figure>
<h3 id="1-3-函数式接口"><a href="#1-3-函数式接口" class="headerlink" title="1.3 函数式接口"></a>1.3 函数式接口</h3><h4 id="1-3-1-概述"><a href="#1-3-1-概述" class="headerlink" title="1.3.1 概述"></a>1.3.1 概述</h4><ul>
<li><strong>只包含一个抽象方法的接口，称为函数式接口</strong>。 </li>
<li>可以通过 Lambda 表达式来创建该接口的对象。（若 Lambda 表达式抛出一个受检异常(即：非运行时异常)，那么该异常需要在目标接口的抽象方法上进行声明）。</li>
<li>我们可以在一个接口上使用 <code>@FunctionalInterface</code> 注解，这样做可以检查它是否是一个函数式接口。同时 javadoc 也会包含一条声明，说明这个接口是一个函数式接口。但是加不加无所谓，只要符合第一个条件即可。</li>
<li>在java.util.function包下定义了Java 8 的丰富的函数式接口</li>
<li>简单的说，在Java8中，<strong>Lambda表达式就是一个函数式接口的实例</strong>。这就是Lambda表达式和函数式接口的关系。也就是说，只要一个对象是函数式接口的实例，那么该对象就可以用Lambda表达式来表示。所以以前用匿名实现类表示的现在都可以用Lambda表达式来写。</li>
</ul>
<h4 id="1-3-2-函数式接口举例"><a href="#1-3-2-函数式接口举例" class="headerlink" title="1.3.2 函数式接口举例"></a>1.3.2 函数式接口举例</h4><ul>
<li>Runnable</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Comparator</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(T o1, T o2)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="1-3-3-自定义函数式接口"><a href="#1-3-3-自定义函数式接口" class="headerlink" title="1.3.3 自定义函数式接口"></a>1.3.3 自定义函数式接口</h4><ul>
<li>自定义函数式接口</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyInterface</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getValue</span><span class="params">(T t)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>测试</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    MyInterface&lt;Integer&gt; myInterface = (n) -&gt; n;</span><br><span class="line">    Integer value = myInterface.getValue(<span class="number">3</span>);</span><br><span class="line">    System.out.println(value); <span class="comment">// 3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="1-3-4-内置的函数式接口"><a href="#1-3-4-内置的函数式接口" class="headerlink" title="1.3.4 内置的函数式接口"></a>1.3.4 内置的函数式接口</h4><p>Java 内置有四大核心函数式接口：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://kisugitakumi.oss-cn-chengdu.aliyuncs.com/img12/image-20220412163140976.png" alt="image-20220412163140976"></p>
<blockquote>
<p>使用举例</p>
</blockquote>
<ul>
<li>消费型接口，注意这里函数式接口作为了方法的参数。作为参数传递 Lambda 表达式：为了将 Lambda 表达式作为参数传递，接收Lambda 表达式的参数类型必须是与该 Lambda 表达式兼容的函数式接口的类型。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    happyTime(<span class="number">500</span>, (money) -&gt; &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;买了一个手办, 价格为: &quot;</span> + money);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">happyTime</span><span class="params">(<span class="keyword">double</span> money, Consumer&lt;Double&gt; con)</span> </span>&#123;</span><br><span class="line">    con.accept(money);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>断言型接口</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test5</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; list = Arrays.asList(<span class="string">&quot;北京&quot;</span>, <span class="string">&quot;天津&quot;</span>, <span class="string">&quot;东京&quot;</span>, <span class="string">&quot;西京&quot;</span>, <span class="string">&quot;南京&quot;</span>);</span><br><span class="line">    <span class="comment">// 匿名类写法</span></span><br><span class="line">    List&lt;String&gt; filterList1 = filterString(list, <span class="keyword">new</span> Predicate&lt;String&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">test</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">            <span class="comment">// 具体的实现方法：过滤得到包含“京”的字符串</span></span><br><span class="line">            <span class="keyword">return</span> s.contains(<span class="string">&quot;京&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    System.out.println(filterList1); <span class="comment">// [北京, 东京, 西京, 南京]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Lambda表达式</span></span><br><span class="line">    List&lt;String&gt; filterList2 = filterString(list, s -&gt; s.contains(<span class="string">&quot;京&quot;</span>));</span><br><span class="line">    System.out.println(filterList2); <span class="comment">// [北京, 东京, 西京, 南京]</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 根据给定的规则，过滤集合中的字符串，此规则由Predicate的实现方法决定</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">filterString</span><span class="params">(List&lt;String&gt; list, Predicate&lt;String&gt; predicate)</span> </span>&#123;</span><br><span class="line">    ArrayList&lt;String&gt; filterList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (String s : list) &#123;</span><br><span class="line">        <span class="keyword">if</span> (predicate.test(s)) &#123;</span><br><span class="line">            filterList.add(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> filterList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-4-方法引用"><a href="#1-4-方法引用" class="headerlink" title="1.4 方法引用"></a>1.4 方法引用</h3><h4 id="1-4-1-概述"><a href="#1-4-1-概述" class="headerlink" title="1.4.1 概述"></a>1.4.1 概述</h4><ul>
<li>使用情景：当要传递给Lambda体的操作，已经有实现的方法了，可以使用方法引用</li>
<li>方法引用可以看做是Lambda表达式深层次的表达。换句话说，方法引用就是Lambda表达式，也就是函数式接口的一个实例，通过方法的名字来指向一个方法，可以认为是Lambda表达式的一个<strong>语法糖</strong>。</li>
<li>要求：<strong>实现接口的抽象方法的参数列表和返回值类型，必须与方法引用的方法的参数列表和返回值类型保持一致</strong>，针对情况1和2.</li>
<li>语法格式：使用操作符 <code>::</code> 将类(或对象) 与 方法名分隔开来。共有三种情况：<ul>
<li><code>对象 :: 实例方法名（非静态方法）</code></li>
<li><code>类 :: 静态方法名</code></li>
<li><code>类 :: 实例方法名（非静态方法）</code>，注意！</li>
</ul>
</li>
</ul>
<h4 id="1-4-2-代码示例"><a href="#1-4-2-代码示例" class="headerlink" title="1.4.2 代码示例"></a>1.4.2 代码示例</h4><ul>
<li>情况一：<code>对象 :: 实例方法名（非静态方法）</code></li>
</ul>
<blockquote>
<p>代码示例1</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 情况一：对象 :: 实例方法</span></span><br><span class="line"><span class="comment">// 当要传递给Lambda体的操作(System.out.println(s))，已经有实现的方法了，可以使用方法引用</span></span><br><span class="line"><span class="comment">// Consumer中的void accept(T t)</span></span><br><span class="line"><span class="comment">// PrintStream中的void println(T t)</span></span><br><span class="line"><span class="comment">// 二者匹配上了</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   <span class="comment">// lambda表达式</span></span><br><span class="line">   Consumer&lt;String&gt; con1 = s -&gt; System.out.println(s);</span><br><span class="line">   con1.accept(<span class="string">&quot;Hello world&quot;</span>);</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方法引用</span></span><br><span class="line">   PrintStream ps = System.out;</span><br><span class="line">   Consumer&lt;String&gt; con2 = ps::println;</span><br><span class="line">   con2.accept(<span class="string">&quot;Hello world&quot;</span>);</span><br><span class="line">   </span><br><span class="line">   <span class="comment">// 或简写为Consumer&lt;String&gt; con2 = System.out::println;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>代码示例2</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Supplier中的T get()</span></span><br><span class="line"><span class="comment">//Employee中的String getName()</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   Employee emp = <span class="keyword">new</span> Employee(<span class="number">1001</span>, <span class="string">&quot;Tom&quot;</span>, <span class="number">23</span>, <span class="number">5600</span>);</span><br><span class="line">   Supplier&lt;String&gt; sup1 = () -&gt; emp.getName();</span><br><span class="line">   System.out.println(sup1.get()); <span class="comment">// Tom</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方法引用</span></span><br><span class="line">   Supplier&lt;String&gt; sup2 = emp::getName;</span><br><span class="line">   System.out.println(sup2.get());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>情况二：<code>类 :: 静态方法名</code></li>
</ul>
<blockquote>
<p>代码示例1</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 情况二：类 :: 静态方法</span></span><br><span class="line"><span class="comment">//Comparator中的int compare(T t1,T t2)</span></span><br><span class="line"><span class="comment">//Integer中的int compare(T t1,T t2)</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   Comparator&lt;Integer&gt; com1 = (x, y) -&gt; Integer.compare(x, y);</span><br><span class="line">   System.out.println(com1.compare(<span class="number">1</span>, <span class="number">2</span>)); <span class="comment">// -1</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方法引用</span></span><br><span class="line">   Comparator&lt;Integer&gt; com2 = Integer::compareTo;</span><br><span class="line">   System.out.println(com2.compare(<span class="number">1</span>, <span class="number">0</span>)); <span class="comment">// 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>代码示例2</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Function中的R apply(T t)</span></span><br><span class="line"><span class="comment">//Math中的Long round(Double d)</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 匿名类</span></span><br><span class="line">    Function&lt;Double, Long&gt; fun1 = <span class="keyword">new</span> Function&lt;Double, Long&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Long <span class="title">apply</span><span class="params">(Double aDouble)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Math.round(aDouble);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    System.out.println(fun1.apply(<span class="number">12.31</span>)); <span class="comment">// 12</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// lambda</span></span><br><span class="line">    Function&lt;Double, Long&gt; fun2 = n -&gt; Math.round(n);</span><br><span class="line">    System.out.println(fun2.apply(<span class="number">12.31</span>)); <span class="comment">// 12</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 方法引用</span></span><br><span class="line">    Function&lt;Double, Long&gt; fun3 = Math::round;</span><br><span class="line">    System.out.println(fun3.apply(<span class="number">12.99</span>)); <span class="comment">// 13</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>情况三：<code>类 :: 实例方法名（非静态方法）</code></li>
</ul>
<blockquote>
<p>代码示例1</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 情况三：类 :: 实例方法 </span></span><br><span class="line"><span class="comment">// Comparator中的int comapre(T t1,T t2)</span></span><br><span class="line"><span class="comment">// String中的int t1.compareTo(t2)</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test5</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   Comparator&lt;String&gt; com1 = (s1, s2) -&gt; s1.compareTo(s2);</span><br><span class="line">   System.out.println(com1.compare(<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;abd&quot;</span>)); <span class="comment">// -1</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方法引用</span></span><br><span class="line">   Comparator&lt;String&gt; com2 = String::compareTo;</span><br><span class="line">   System.out.println(com2.compare(<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;abe&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>代码示例2</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//BiPredicate中的boolean test(T t1, T t2);</span></span><br><span class="line"><span class="comment">//String中的boolean t1.equals(t2)</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test6</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   BiPredicate&lt;String, String&gt; pre1 = (s1, s2) -&gt; s1.equals(s2);</span><br><span class="line">   System.out.println(pre1.test(<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;abd&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方法引用</span></span><br><span class="line">   BiPredicate&lt;String, String&gt; pre2 = String::equals;</span><br><span class="line">   System.out.println(pre2.test(<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;abc&quot;</span>)); <span class="comment">// true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>代码示例3</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Function中的R apply(T t)</span></span><br><span class="line"><span class="comment">// Employee中的String getName();</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test7</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   Employee emp = <span class="keyword">new</span> Employee(<span class="number">1000</span>, <span class="string">&quot;Mark&quot;</span>, <span class="number">24</span>, <span class="number">30000</span>);</span><br><span class="line">   Function&lt;Employee, String&gt; fun1 = employee -&gt; employee.getName();</span><br><span class="line">   System.out.println(fun1.apply(emp)); <span class="comment">// Mark</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方法引用</span></span><br><span class="line">   Function&lt;Employee, String&gt; fun2 = Employee::getName;</span><br><span class="line">   System.out.println(fun2.apply(emp));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-5-构造器引用和数组引用"><a href="#1-5-构造器引用和数组引用" class="headerlink" title="1.5 构造器引用和数组引用"></a>1.5 构造器引用和数组引用</h3><h4 id="1-5-1-概述"><a href="#1-5-1-概述" class="headerlink" title="1.5.1 概述"></a>1.5.1 概述</h4><blockquote>
<p>构造器引用</p>
</blockquote>
<ul>
<li>格式： <code>ClassName::new</code></li>
<li>与函数式接口相结合，自动与函数式接口中方法兼容。</li>
<li>可以把构造器引用赋值给定义的方法，要求构造器参数列表要与接口中抽象方法的<strong>参数列表一致</strong>，且<strong>方法的返回值即为构造器对应类的对象</strong>。</li>
</ul>
<blockquote>
<p>数组引用</p>
</blockquote>
<ul>
<li>格式： <code>type[]::new</code></li>
<li>可以把数组看成一个类，这样和构造器引用无异</li>
</ul>
<h4 id="1-5-2-代码示例"><a href="#1-5-2-代码示例" class="headerlink" title="1.5.2 代码示例"></a>1.5.2 代码示例</h4><blockquote>
<p>代码示例1</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Supplier中的T get()</span></span><br><span class="line"><span class="comment">// Employee中的Employee()空参构造器，返回一个emp对象</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test0</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Supplier&lt;Employee&gt; sup1 = () -&gt; <span class="keyword">new</span> Employee();</span><br><span class="line">    <span class="comment">// 构造器引用</span></span><br><span class="line">    Supplier&lt;Employee&gt; sup2 = Employee::<span class="keyword">new</span>;</span><br><span class="line">    Employee employee = sup2.get();</span><br><span class="line">    System.out.println(employee);</span><br><span class="line">    <span class="comment">// Employee&#123;id=0, name=&#x27;null&#x27;, age=0, salary=0.0&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>代码示例2</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Function中的R apply(T t)</span></span><br><span class="line"><span class="comment">// Employee中的Employee(int id)</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Function&lt;Integer, Employee&gt; func1 = id -&gt; <span class="keyword">new</span> Employee(id);</span><br><span class="line">    Employee employee1 = func1.apply(<span class="number">1</span>);</span><br><span class="line">    System.out.println(employee1);</span><br><span class="line">    <span class="comment">// 构造器引用</span></span><br><span class="line">    Function&lt;Integer, Employee&gt; func2 = Employee::<span class="keyword">new</span>;</span><br><span class="line">    System.out.println(func2.apply(<span class="number">2</span>));</span><br><span class="line">    <span class="comment">// Employee&#123;id=1, name=&#x27;null&#x27;, age=0, salary=0.0&#125;</span></span><br><span class="line">    <span class="comment">// Employee&#123;id=2, name=&#x27;null&#x27;, age=0, salary=0.0&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>代码示例3</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// BiFunction中的R apply(T t, U u)</span></span><br><span class="line"><span class="comment">// Employee中的Employee(int id, String name)</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    BiFunction&lt;Integer, String, Employee&gt; bif = Employee::<span class="keyword">new</span>;</span><br><span class="line">    System.out.println(bif.apply(<span class="number">1</span>, <span class="string">&quot;Mark&quot;</span>));</span><br><span class="line">    <span class="comment">// Employee&#123;id=1, name=&#x27;Mark&#x27;, age=0, salary=0.0&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>代码示例4</p>
</blockquote>
<ul>
<li>数组引用</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Function&lt;Integer, String[]&gt; func1 = length -&gt; <span class="keyword">new</span> String[length];</span><br><span class="line">    String[] arr1 = func1.apply(<span class="number">5</span>);</span><br><span class="line">    System.out.println(Arrays.toString(arr1));</span><br><span class="line">    <span class="comment">// 数组引用</span></span><br><span class="line">    Function&lt;Integer, String[]&gt; func2 = String[]::<span class="keyword">new</span>;</span><br><span class="line">    String[] arr2 = func2.apply(<span class="number">10</span>);</span><br><span class="line">    System.out.println(Arrays.toString(arr2));</span><br><span class="line">    <span class="comment">// [null, null, null, null, null]</span></span><br><span class="line">    <span class="comment">// [null, null, null, null, null, null, null, null, null, null]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-6-Stream-API"><a href="#1-6-Stream-API" class="headerlink" title="1.6 Stream API"></a>1.6 Stream API</h3><h4 id="1-6-1-概述"><a href="#1-6-1-概述" class="headerlink" title="1.6.1 概述"></a>1.6.1 概述</h4><p>Java8中有两大最为重要的改变。第一个是 Lambda 表达式；另外一个则是 Stream API。</p>
<p><code>Stream API ( java.util.stream)</code> 把真正的函数式编程风格引入到Java中。这是目前为止对Java类库最好的补充，因为Stream API可以极大提供Java程序员的生产力，让程序员写出高效率、干净、简洁的代码。</p>
<p>Stream 是 Java8 中<strong>处理集合</strong>的关键抽象概念，它可以指定你希望对集合进行的操作，可以执行非常复杂的查找、过滤和映射数据等操作。 使用Stream API 对集合数据进行操作，就类似于使用 SQL 执行的数据库查询。也可以使用 Stream API 来并行执行操作。简言之，Stream API 提供了一种高效且易于使用的处理数据的方式。</p>
<p>Stream 和 Collection 集合的区别：Collection 是一种静态的内存数据结构，而 Stream 是有关计算的。前者是主要面向内存，存储在内存中，<strong>后者主要是面向 CPU，通过 CPU 实现计算</strong>。</p>
<blockquote>
<p>什么是Stream API</p>
</blockquote>
<p>是数据渠道，用于操作数据源（集合、数组等）所生成的元素序列。</p>
<p>Stream 自己不会存储元素。</p>
<p>Stream 不会改变源对象。相反，他们会返回一个持有结果的新Stream。</p>
<p>Stream 操作是延迟执行的。这意味着他们会等到需要结果的时候才执行。</p>
<h4 id="1-6-2-使用"><a href="#1-6-2-使用" class="headerlink" title="1.6.2 使用"></a>1.6.2 使用</h4><h5 id="①-三个步骤"><a href="#①-三个步骤" class="headerlink" title="① 三个步骤"></a>① 三个步骤</h5><ul>
<li>创建 Stream：一个数据源（如：集合、数组），获取一个流</li>
<li>中间操作：一个中间操作链，对数据源的数据进行处理</li>
<li>终止操作(终端操作)： 一旦执行终止操作，就执行中间操作链，并产生结果。之后，不会再被使用</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://kisugitakumi.oss-cn-chengdu.aliyuncs.com/img12/image-20220415095130532.png" alt="image-20220415095130532"></p>
<h5 id="②-创建Stream"><a href="#②-创建Stream" class="headerlink" title="② 创建Stream"></a>② 创建Stream</h5><blockquote>
<p>方式一：通过集合创建</p>
</blockquote>
<p>Java8 中的 Collection 接口被扩展，提供了两个获取流的方法： </p>
<ul>
<li><code>default Stream&lt;E&gt; stream()</code> : 返回一个顺序流</li>
<li><code>default Stream&lt;E&gt; parallelStream()</code> : 返回一个并行流</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test0</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;Employee&gt; employees = EmployeeData.getEmployees();</span><br><span class="line">    <span class="comment">// 返回顺序流</span></span><br><span class="line">    Stream&lt;Employee&gt; stream = employees.stream();</span><br><span class="line">    <span class="comment">// 返回并行流</span></span><br><span class="line">    Stream&lt;Employee&gt; parallelStream = employees.parallelStream();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>方式二：通过数组创建</p>
</blockquote>
<p>Java8 中的 Arrays 的静态方法 stream() 可以获取数组流：</p>
<ul>
<li><code>static &lt;T&gt; Stream&lt;T&gt; stream(T[] array)</code>: 返回一个流</li>
</ul>
<p>重载形式，能够处理对应基本类型的数组：</p>
<ul>
<li><code>public static IntStream stream(int[] array)</code></li>
<li><code>public static LongStream stream(long[] array)</code></li>
<li><code>public static DoubleStream stream(double[] array)</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    IntStream stream = Arrays.stream(arr);</span><br><span class="line"></span><br><span class="line">    Employee e1 = <span class="keyword">new</span> Employee(<span class="number">1001</span>, <span class="string">&quot;Mark&quot;</span>);</span><br><span class="line">    Employee e2 = <span class="keyword">new</span> Employee(<span class="number">1002</span>, <span class="string">&quot;Hongyi&quot;</span>);</span><br><span class="line">    Employee[] arr1 = <span class="keyword">new</span> Employee[]&#123;e1, e2&#125;;</span><br><span class="line">    Stream&lt;Employee&gt; stream1 = Arrays.stream(arr1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>方式三：通过Stream的of()</p>
</blockquote>
<p>可以调用Stream类静态方法 of()，通过显示值创建一个流。它可以接收任意数量的参数。</p>
<ul>
<li><code>public static&lt;T&gt; Stream&lt;T&gt; of(T... values)</code> : 返回一个流</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Stream&lt;Integer&gt; stream = Stream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="③-中间操作"><a href="#③-中间操作" class="headerlink" title="③ 中间操作"></a>③ 中间操作</h5><p>多个中间操作可以连接起来形成一个流水线，若流水线上的某个中间操作触发了<strong>终止操作</strong>，那么后续的中间操作不会执行任何的处理。而在终止操作时一次性全部处理，称为“<strong>惰性求值</strong>”。</p>
<blockquote>
<p>1-筛选与切片</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>filter(Predicate p)</code></td>
<td>接收 Lambda ， 从流中排除某些元素</td>
</tr>
<tr>
<td><code>distinct()</code></td>
<td>筛选，通过流所生成元素的 hashCode() 和 equals() 去除重复元素</td>
</tr>
<tr>
<td><code>limit(long maxSize)</code></td>
<td>截断流，使其元素不超过给定数量</td>
</tr>
<tr>
<td><code>skip(long n)</code></td>
<td>跳过元素，返回一个扔掉了前 n 个元素的流。若流中元素不足 n 个，则返回一个空流。与 limit(n) 互补</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;Employee&gt; lists = EmployeeData.getEmployees();</span><br><span class="line">    Stream&lt;Employee&gt; stream = lists.stream();</span><br><span class="line">    <span class="comment">// 查询薪水大于7k的员工数据</span></span><br><span class="line">    <span class="comment">// 注意forEach的接收参数是Consumer，可以使用方法引用</span></span><br><span class="line">    stream.filter(e -&gt; e.getSalary() &gt; <span class="number">7000</span>).forEach(System.out::println);</span><br><span class="line">    System.out.println(<span class="string">&quot;------------------------------------&quot;</span>);</span><br><span class="line">    <span class="comment">// 上面的语句终止了stream，下面还想要利用stream只能重新生成</span></span><br><span class="line">    lists.stream().limit(<span class="number">3</span>).forEach(System.out::println);</span><br><span class="line">    System.out.println(<span class="string">&quot;------------------------------------&quot;</span>);</span><br><span class="line">    lists.stream().skip(<span class="number">3</span>).forEach(System.out::println);</span><br><span class="line">    System.out.println(<span class="string">&quot;------------------------------------&quot;</span>);</span><br><span class="line">    lists.add(<span class="keyword">new</span> Employee(<span class="number">1008</span>, <span class="string">&quot;扎克伯格&quot;</span>, <span class="number">35</span>, <span class="number">2500.32</span>));</span><br><span class="line">    lists.stream().distinct().forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Employee&#123;id=1002, name=&#x27;马云&#x27;, age=12, salary=9876.12&#125;</span><br><span class="line">Employee&#123;id=1004, name=&#x27;雷军&#x27;, age=26, salary=7657.37&#125;</span><br><span class="line">Employee&#123;id=1006, name=&#x27;比尔盖茨&#x27;, age=42, salary=9500.43&#125;</span><br><span class="line">------------------------------------</span><br><span class="line">Employee&#123;id=1001, name=&#x27;马化腾&#x27;, age=34, salary=6000.38&#125;</span><br><span class="line">Employee&#123;id=1002, name=&#x27;马云&#x27;, age=12, salary=9876.12&#125;</span><br><span class="line">Employee&#123;id=1003, name=&#x27;刘强东&#x27;, age=33, salary=3000.82&#125;</span><br><span class="line">------------------------------------</span><br><span class="line">Employee&#123;id=1004, name=&#x27;雷军&#x27;, age=26, salary=7657.37&#125;</span><br><span class="line">Employee&#123;id=1005, name=&#x27;李彦宏&#x27;, age=65, salary=5555.32&#125;</span><br><span class="line">Employee&#123;id=1006, name=&#x27;比尔盖茨&#x27;, age=42, salary=9500.43&#125;</span><br><span class="line">Employee&#123;id=1007, name=&#x27;任正非&#x27;, age=26, salary=4333.32&#125;</span><br><span class="line">Employee&#123;id=1008, name=&#x27;扎克伯格&#x27;, age=35, salary=2500.32&#125;</span><br><span class="line">------------------------------------</span><br><span class="line">Employee&#123;id=1001, name=&#x27;马化腾&#x27;, age=34, salary=6000.38&#125;</span><br><span class="line">Employee&#123;id=1002, name=&#x27;马云&#x27;, age=12, salary=9876.12&#125;</span><br><span class="line">Employee&#123;id=1003, name=&#x27;刘强东&#x27;, age=33, salary=3000.82&#125;</span><br><span class="line">Employee&#123;id=1004, name=&#x27;雷军&#x27;, age=26, salary=7657.37&#125;</span><br><span class="line">Employee&#123;id=1005, name=&#x27;李彦宏&#x27;, age=65, salary=5555.32&#125;</span><br><span class="line">Employee&#123;id=1006, name=&#x27;比尔盖茨&#x27;, age=42, salary=9500.43&#125;</span><br><span class="line">Employee&#123;id=1007, name=&#x27;任正非&#x27;, age=26, salary=4333.32&#125;</span><br><span class="line">Employee&#123;id=1008, name=&#x27;扎克伯格&#x27;, age=35, salary=2500.32&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>2-映射</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>map(Function f)</code></td>
<td>接收一个函数作为参数，该函数会被应用到每个元素上，并将其映射成一个新的元素。</td>
</tr>
<tr>
<td><code>mapToDouble(ToDoubleFunction f)</code></td>
<td>接收一个函数作为参数，该函数会被应用到每个元素上，产生一个新的 DoubleStream。</td>
</tr>
<tr>
<td><code>mapToInt(ToIntFunction f)</code></td>
<td>接收一个函数作为参数，该函数会被应用到每个元素上，产生一个新的 IntStream。</td>
</tr>
<tr>
<td><code>mapToLong(ToLongFunction f)</code></td>
<td>接收一个函数作为参数，该函数会被应用到每个元素上，产生一个新的 LongStream。</td>
</tr>
<tr>
<td><code>flatMap(Function f)</code></td>
<td>接收一个函数作为参数，将流中的每个值都换成另一个流，然后把所有流连接成一个流</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 小写转大写</span></span><br><span class="line">    List&lt;String&gt; list = Arrays.asList(<span class="string">&quot;aa&quot;</span>, <span class="string">&quot;bb&quot;</span>, <span class="string">&quot;cc&quot;</span>, <span class="string">&quot;dd&quot;</span>);</span><br><span class="line">    list.stream().map(String::toUpperCase).forEach(System.out::println);</span><br><span class="line">    System.out.println(<span class="string">&quot;------------------------------------&quot;</span>);</span><br><span class="line">    <span class="comment">// 查询姓名长度大于3的员工的姓名</span></span><br><span class="line">    List&lt;Employee&gt; employees = EmployeeData.getEmployees();</span><br><span class="line">    <span class="comment">// 1.先获取所有员工的姓名</span></span><br><span class="line">    Stream&lt;String&gt; nameStream = employees.stream().map(Employee::getName);</span><br><span class="line">    <span class="comment">// 2.再对员工姓名进行过滤</span></span><br><span class="line">    nameStream.filter(s -&gt; s.length() &gt; <span class="number">3</span>).forEach(System.out::println);</span><br><span class="line">    System.out.println(<span class="string">&quot;------------------------------------&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">AA</span><br><span class="line">BB</span><br><span class="line">CC</span><br><span class="line">DD</span><br><span class="line">------------------------------------</span><br><span class="line">比尔盖茨</span><br><span class="line">扎克伯格</span><br><span class="line">------------------------------------</span><br></pre></td></tr></table></figure>
<blockquote>
<p>3-排序</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>sorted()</code></td>
<td>产生一个新流，其中按自然顺序排序</td>
</tr>
<tr>
<td><code>sorted(Comparator com)</code></td>
<td>产生一个新流，其中按比较器顺序排序</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test5</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 自然排序</span></span><br><span class="line">    List&lt;Integer&gt; list = Arrays.asList(<span class="number">12</span>, <span class="number">43</span>, <span class="number">0</span>, <span class="number">98</span>, <span class="number">34</span>, -<span class="number">5</span>, <span class="number">7</span>);</span><br><span class="line">    list.stream().sorted().forEach(System.out::println);</span><br><span class="line">    <span class="comment">// 定制排序</span></span><br><span class="line">    <span class="comment">// 先根据年龄排序，再根据薪水排序</span></span><br><span class="line">    List&lt;Employee&gt; employees = EmployeeData.getEmployees();</span><br><span class="line">    employees.stream().sorted((e1, e2) -&gt; &#123;</span><br><span class="line">        <span class="keyword">int</span> compare = Integer.compare(e1.getAge(), e2.getAge());</span><br><span class="line">        <span class="keyword">if</span> (compare != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> compare;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> Double.compare(e1.getSalary(), e2.getSalary());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-5</span><br><span class="line">0</span><br><span class="line">7</span><br><span class="line">12</span><br><span class="line">34</span><br><span class="line">43</span><br><span class="line">98</span><br><span class="line">Employee&#123;id=1002, name=&#x27;马云&#x27;, age=12, salary=9876.12&#125;</span><br><span class="line">Employee&#123;id=1007, name=&#x27;任正非&#x27;, age=26, salary=4333.32&#125;</span><br><span class="line">Employee&#123;id=1004, name=&#x27;雷军&#x27;, age=26, salary=7657.37&#125;</span><br><span class="line">Employee&#123;id=1003, name=&#x27;刘强东&#x27;, age=33, salary=3000.82&#125;</span><br><span class="line">Employee&#123;id=1001, name=&#x27;马化腾&#x27;, age=34, salary=6000.38&#125;</span><br><span class="line">Employee&#123;id=1008, name=&#x27;扎克伯格&#x27;, age=35, salary=2500.32&#125;</span><br><span class="line">Employee&#123;id=1006, name=&#x27;比尔盖茨&#x27;, age=42, salary=9500.43&#125;</span><br><span class="line">Employee&#123;id=1005, name=&#x27;李彦宏&#x27;, age=65, salary=5555.32&#125;</span><br></pre></td></tr></table></figure>
<h5 id="④-终止操作"><a href="#④-终止操作" class="headerlink" title="④ 终止操作"></a>④ 终止操作</h5><ul>
<li>终端操作会从流的流水线生成结果。其结果可以是任何不是流的值，例如：List、Integer，甚至是 void 。 </li>
<li>流进行了终止操作后，不能再次使用。</li>
</ul>
<blockquote>
<p>1-匹配与查找</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>allMatch(Predicate p)</code></td>
<td>检查是否匹配所有元素</td>
</tr>
<tr>
<td><code>anyMatch(Predicate p)</code></td>
<td>检查是否至少匹配一个元素</td>
</tr>
<tr>
<td><code>noneMatch(Predicate p)</code></td>
<td>检查是否没有匹配所有元素</td>
</tr>
<tr>
<td><code>findFirst()</code></td>
<td>返回第一个元素</td>
</tr>
<tr>
<td><code>findAny()</code></td>
<td>返回当前流中的任意元素</td>
</tr>
<tr>
<td><code>count()</code></td>
<td>返回流中元素总数</td>
</tr>
<tr>
<td><code>max(Comparator c)</code></td>
<td>返回流中最大值</td>
</tr>
<tr>
<td><code>min(Comparator c)</code></td>
<td>返回流中最小值</td>
</tr>
<tr>
<td><code>forEach(Consumer c)</code></td>
<td>内部迭代(使用 Collection 接口需要用户去做迭代，称为外部迭代。相反，Stream API 使用内部迭代——它帮你把迭代做了)</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test6</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;Employee&gt; list = EmployeeData.getEmployees();</span><br><span class="line">    <span class="comment">// 1.是否所有的员工都大于18岁</span></span><br><span class="line">    System.out.println(list.stream().allMatch(e -&gt; e.getAge() &gt; <span class="number">18</span>)); <span class="comment">// false</span></span><br><span class="line">    <span class="comment">// 2.是否存在员工的工资大于10000</span></span><br><span class="line">    System.out.println(list.stream().anyMatch(e -&gt; e.getSalary() &gt; <span class="number">10000</span>));</span><br><span class="line">    <span class="comment">// 3.是否存在员工姓“雷”</span></span><br><span class="line">    System.out.println(list.stream().noneMatch(e -&gt; e.getName().startsWith(<span class="string">&quot;雷&quot;</span>)));</span><br><span class="line">    <span class="comment">// 4.返回第一个员工</span></span><br><span class="line">    Optional&lt;Employee&gt; employee = list.stream().findFirst();</span><br><span class="line">    System.out.println(employee);</span><br><span class="line">    <span class="comment">// 5.返回员工总数</span></span><br><span class="line">    <span class="keyword">long</span> count = list.stream().count();</span><br><span class="line">    System.out.println(count);</span><br><span class="line">    <span class="comment">// 6.返回最高工资</span></span><br><span class="line">    Optional&lt;Double&gt; max = list.stream().map(Employee::getSalary).max(Double::compare);</span><br><span class="line">    System.out.println(max);<span class="comment">// Optional[9876.12]</span></span><br><span class="line">    <span class="comment">// 7.返回最低工资的员工</span></span><br><span class="line">    Optional&lt;Employee&gt; employeeOptional = list.stream().min((e1, e2) -&gt; Double.compare(e1.getSalary(), e2.getSalary()));</span><br><span class="line">    System.out.println(employeeOptional);</span><br><span class="line">    <span class="comment">// Optional[Employee&#123;id=1008, name=&#x27;扎克伯格&#x27;, age=35, salary=2500.32&#125;]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>2-归约</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>reduce(T iden, BinaryOperator b)</code></td>
<td>可以将流中元素反复结合起来，得到一个值。返回 T</td>
</tr>
<tr>
<td><code>reduce(BinaryOperator b)</code></td>
<td>可以将流中元素反复结合起来，得到一个值。返回 Optional</td>
</tr>
</tbody>
</table>
</div>
<p>注：map 和 reduce 的连接通常称为 map-reduce 模式，因 Google 用它来进行网络搜索而出名。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test0</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 1.计算1-10的和</span></span><br><span class="line">    List&lt;Integer&gt; list = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>);</span><br><span class="line">    <span class="comment">// 第一个参数为初始值，相当于第一个数，求和后再对list相加</span></span><br><span class="line">    Integer sum = list.stream().reduce(<span class="number">0</span>, Integer::sum);</span><br><span class="line">    System.out.println(sum);</span><br><span class="line">    <span class="comment">// 2.计算所有员工的工资之和</span></span><br><span class="line">    List&lt;Employee&gt; employees = EmployeeData.getEmployees();</span><br><span class="line">    Optional&lt;Double&gt; salarySum = employees.stream().map(Employee::getSalary).reduce(Double::sum);</span><br><span class="line">    System.out.println(salarySum); <span class="comment">// Optional[48424.08]</span></span><br><span class="line">    <span class="comment">// 方式2</span></span><br><span class="line">    Optional&lt;Double&gt; salarySum1 = employees.stream().map(Employee::getSalary).reduce((d1, d2) -&gt; d1 + d2);</span><br><span class="line">    System.out.println(salarySum1);  <span class="comment">// Optional[48424.08]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>3-收集</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>collect(Collector c)</code></td>
<td>将流转换为其他形式。接收一个 Collector接口的实现，用于给Stream中元素做汇总的方法</td>
</tr>
</tbody>
</table>
</div>
<p>Collector 接口中方法的实现决定了如何对流执行收集的操作(如收集到 List、Set、Map)。</p>
<p>另外， Collectors 实用类提供了很多静态方法，可以方便地创建常见收集器实例。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 查找工资大于6k的员工，并封装到List或Set中</span></span><br><span class="line">    List&lt;Employee&gt; employees = EmployeeData.getEmployees();</span><br><span class="line">    List&lt;Employee&gt; collect = employees.stream().filter(e -&gt; e.getSalary() &gt; <span class="number">6000</span>).collect(Collectors.toList());</span><br><span class="line">    collect.forEach(System.out::println);</span><br><span class="line">    System.out.println(<span class="string">&quot;----------------------------&quot;</span>);</span><br><span class="line">    Set&lt;Employee&gt; collect1 = employees.stream().filter(e -&gt; e.getSalary() &gt; <span class="number">6000</span>).collect(Collectors.toSet());</span><br><span class="line">    collect1.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Employee&#123;id=1001, name=&#x27;马化腾&#x27;, age=34, salary=6000.38&#125;</span><br><span class="line">Employee&#123;id=1002, name=&#x27;马云&#x27;, age=12, salary=9876.12&#125;</span><br><span class="line">Employee&#123;id=1004, name=&#x27;雷军&#x27;, age=26, salary=7657.37&#125;</span><br><span class="line">Employee&#123;id=1006, name=&#x27;比尔盖茨&#x27;, age=42, salary=9500.43&#125;</span><br><span class="line">----------------------------</span><br><span class="line">Employee&#123;id=1001, name=&#x27;马化腾&#x27;, age=34, salary=6000.38&#125;</span><br><span class="line">Employee&#123;id=1002, name=&#x27;马云&#x27;, age=12, salary=9876.12&#125;</span><br><span class="line">Employee&#123;id=1006, name=&#x27;比尔盖茨&#x27;, age=42, salary=9500.43&#125;</span><br><span class="line">Employee&#123;id=1004, name=&#x27;雷军&#x27;, age=26, salary=7657.37&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-7-Optional"><a href="#1-7-Optional" class="headerlink" title="1.7 Optional"></a>1.7 Optional</h3><h4 id="1-7-1-概述"><a href="#1-7-1-概述" class="headerlink" title="1.7.1 概述"></a>1.7.1 概述</h4><p>到目前为止，臭名昭著的空指针异常是导致Java应用程序失败的最常见原因。以前，为了解决空指针异常，Google公司著名的Guava项目引入了Optional类，Guava通过使用检查空值的方式来防止代码污染，它鼓励程序员写更干净的代码。受到Google Guava的启发，Optional类已经成为Java 8类库的一部分。</p>
<p><code>Optional&lt;T&gt;</code> 类(java.util.Optional) 是一个容器类，<strong>它可以保存类型T的值，代表这个值存在。或者仅仅保存null，表示这个值不存在</strong>。原来用 null 表示一个值不存在，现在 Optional 可以更好的表达这个概念。并且可以避免空指针异常。</p>
<p>Optional类的Javadoc描述如下：这是一个可以为null的容器对象。如果值存在则isPresent()方法会返回true，调用get()方法会返回该对象。</p>
<h4 id="1-7-2-代码示例"><a href="#1-7-2-代码示例" class="headerlink" title="1.7.2 代码示例"></a>1.7.2 代码示例</h4><p>Optional提供很多有用的方法，这样我们就不用显式进行空值检测。 </p>
<ul>
<li>创建Optional类对象的方法：<ul>
<li><code>Optional.of(T t)</code> : 创建一个 Optional 实例，<strong>t必须非空</strong>； </li>
<li><code>Optional.empty()</code>: 创建一个空的 Optional 实例</li>
<li><code>Optional.ofNullable(T t)</code>：<strong>t可以为null</strong></li>
</ul>
</li>
<li>判断Optional容器中是否包含对象：<ul>
<li><code>boolean isPresent()</code> : 判断是否包含对象</li>
<li><code>void ifPresent(Consumer&lt;? super T&gt; consumer)</code> ：如果有值，就执行Consumer接口的实现代码，并且该值会作为参数传给它。</li>
</ul>
</li>
<li>获取Optional容器的对象：<ul>
<li><code>T get()</code>: 如果调用对象包含值，返回该值，否则抛异常</li>
<li><code>T orElse(T other)</code> ：如果有值则将其返回，否则返回指定的other对象。</li>
<li><code>T orElseGet(Supplier&lt;? extends T&gt; other)</code> ：如果有值则将其返回，否则返回由Supplier接口实现提供的对象。</li>
<li><code>T orElseThrow(Supplier&lt;? extends X&gt; exceptionSupplier)</code> ：如果有值则将其返回，否则抛出由Supplier接口实现提供的异常。</li>
</ul>
</li>
</ul>
<blockquote>
<p>代码示例1</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Girl girl = <span class="keyword">new</span> Girl();</span><br><span class="line">    Optional&lt;Girl&gt; optionalGirl = Optional.of(girl);</span><br><span class="line">    System.out.println(optionalGirl); <span class="comment">// Optional[Girl(name=null)]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-Java9新特性"><a href="#2-Java9新特性" class="headerlink" title="2 Java9新特性"></a>2 Java9新特性</h2><h3 id="2-1-版本说明"><a href="#2-1-版本说明" class="headerlink" title="2.1 版本说明"></a>2.1 版本说明</h3></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://kisugitakumi.com">Kisugi Takumi</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://kisugitakumi.com">https://kisugitakumi.com</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">此文章版权归Kisugi Takumi所有，如有转载，请註明来自原作者</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java/">Java</a></div><div class="post_share"><div class="social-share" data-image="/img/java.png" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/04/16/%E5%AF%84%E7%94%9F%E7%8D%A3/"><img class="prev-cover" src="/img/kiseijyu.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">寄生獣</div></div></a></div><div class="next-post pull-right"><a href="/2022/03/30/React%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><img class="next-cover" src="/img/react.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">React学习笔记</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/12/09/IDEA%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/" title="IDEA常用快捷键"><img class="cover" src="/img/idea.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-09</div><div class="title">IDEA常用快捷键</div></div></a></div><div><a href="/2020/12/01/Java%E8%A1%A5%E5%85%85/" title="Java补充知识"><img class="cover" src="/img/juc.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-12-01</div><div class="title">Java补充知识</div></div></a></div><div><a href="/2020/05/20/LeetCode%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" title="LeetCode刷题笔记"><img class="cover" src="/img/leetcode.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-05-20</div><div class="title">LeetCode刷题笔记</div></div></a></div><div><a href="/2021/03/15/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Linux学习笔记"><img class="cover" src="/img/linux.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-03-15</div><div class="title">Linux学习笔记</div></div></a></div><div><a href="/2021/03/20/Nginx%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Nginx学习笔记"><img class="cover" src="/img/nginx.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-03-20</div><div class="title">Nginx学习笔记</div></div></a></div><div><a href="/2021/09/08/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="JavaWeb学习笔记"><img class="cover" src="/img/javaweb.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-08</div><div class="title">JavaWeb学习笔记</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Java%E6%96%B0%E7%89%B9%E6%80%A7%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0"><span class="toc-text">Java新特性学习笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Java8%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-text">1 Java8新特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E6%A6%82%E8%BF%B0"><span class="toc-text">1.1 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">1.2 Lambda表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-1-%E6%A6%82%E8%BF%B0"><span class="toc-text">1.2.1 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-2-%E8%AF%AD%E6%B3%95"><span class="toc-text">1.2.2 语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3"><span class="toc-text">1.3 函数式接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-1-%E6%A6%82%E8%BF%B0"><span class="toc-text">1.3.1 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-2-%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3%E4%B8%BE%E4%BE%8B"><span class="toc-text">1.3.2 函数式接口举例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-3-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3"><span class="toc-text">1.3.3 自定义函数式接口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-4-%E5%86%85%E7%BD%AE%E7%9A%84%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3"><span class="toc-text">1.3.4 内置的函数式接口</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E6%96%B9%E6%B3%95%E5%BC%95%E7%94%A8"><span class="toc-text">1.4 方法引用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-1-%E6%A6%82%E8%BF%B0"><span class="toc-text">1.4.1 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-2-%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-text">1.4.2 代码示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-%E6%9E%84%E9%80%A0%E5%99%A8%E5%BC%95%E7%94%A8%E5%92%8C%E6%95%B0%E7%BB%84%E5%BC%95%E7%94%A8"><span class="toc-text">1.5 构造器引用和数组引用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-1-%E6%A6%82%E8%BF%B0"><span class="toc-text">1.5.1 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-2-%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-text">1.5.2 代码示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-Stream-API"><span class="toc-text">1.6 Stream API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-1-%E6%A6%82%E8%BF%B0"><span class="toc-text">1.6.1 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-2-%E4%BD%BF%E7%94%A8"><span class="toc-text">1.6.2 使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A0-%E4%B8%89%E4%B8%AA%E6%AD%A5%E9%AA%A4"><span class="toc-text">① 三个步骤</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A1-%E5%88%9B%E5%BB%BAStream"><span class="toc-text">② 创建Stream</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A2-%E4%B8%AD%E9%97%B4%E6%93%8D%E4%BD%9C"><span class="toc-text">③ 中间操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A3-%E7%BB%88%E6%AD%A2%E6%93%8D%E4%BD%9C"><span class="toc-text">④ 终止操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-Optional"><span class="toc-text">1.7 Optional</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7-1-%E6%A6%82%E8%BF%B0"><span class="toc-text">1.7.1 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7-2-%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-text">1.7.2 代码示例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Java9%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-text">2 Java9新特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E"><span class="toc-text">2.1 版本说明</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background: linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By Kisugi Takumi</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">欢迎来到我的个人博客!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>