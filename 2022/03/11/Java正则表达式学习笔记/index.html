<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Java正则表达式学习笔记 | Kisugi Takumi</title><meta name="keywords" content="正则表达式,实用技术"><meta name="author" content="Kisugi Takumi,zenghongyi1@google.com"><meta name="copyright" content="Kisugi Takumi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="正则表达式通常被用来检索、替换那些符合某个模式(规则)的文本。">
<meta property="og:type" content="article">
<meta property="og:title" content="Java正则表达式学习笔记">
<meta property="og:url" content="https://kisugitakumi.github.io/2022/03/11/Java%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Kisugi Takumi">
<meta property="og:description" content="正则表达式通常被用来检索、替换那些符合某个模式(规则)的文本。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://kisugitakumi.github.io/img/regex.png">
<meta property="article:published_time" content="2022-03-11T03:46:25.000Z">
<meta property="article:modified_time" content="2022-03-22T07:30:38.547Z">
<meta property="article:author" content="Kisugi Takumi">
<meta property="article:tag" content="正则表达式">
<meta property="article:tag" content="实用技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://kisugitakumi.github.io/img/regex.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://kisugitakumi.github.io/2022/03/11/Java%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Kisugi Takumi","link":"链接: ","source":"来源: Kisugi Takumi","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Java正则表达式学习笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-03-22 15:30:38'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/favicon.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">76</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">55</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-brain"></i><span> 我的豆瓣</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书籍</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fab fa-steam-square"></i><span> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/create/"><i class="fa-fw fas fa-user-edit"></i><span> 我的创作</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-kiss-wink-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Kisugi Takumi</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-brain"></i><span> 我的豆瓣</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书籍</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fab fa-steam-square"></i><span> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/create/"><i class="fa-fw fas fa-user-edit"></i><span> 我的创作</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-kiss-wink-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Java正则表达式学习笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-03-11T03:46:25.000Z" title="发表于 2022-03-11 11:46:25">2022-03-11</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-03-22T07:30:38.547Z" title="更新于 2022-03-22 15:30:38">2022-03-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AE%9E%E7%94%A8%E6%8A%80%E6%9C%AF/">实用技术</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">6.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>25分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Java正则表达式学习笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div><article class="post-content" id="article-container"><h1 id="Java正则表达式学习笔记"><a href="#Java正则表达式学习笔记" class="headerlink" title="Java正则表达式学习笔记"></a>Java正则表达式学习笔记</h1><p>学习来源：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Eq4y1E79W">韩顺平讲Java</a></p>
<p>学习时间：2022年3月11日</p>
<h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1 概述"></a>1 概述</h2><p>正则表达式：<code>regular expression</code>，简写为<code>RegExp</code>或<code>regex</code>，专门用于解决处理文本问题，是对字符串执行模式匹配的技术。</p>
<p>很多编程语言都支持正则表达式进行字符串操作。</p>
<blockquote>
<p>regex体验</p>
</blockquote>
<p>给出一段文本：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1995年，互联网的蓬勃发展给了Oak机会。业界为了使死板、单调的静态网页能够“灵活”起来，急需一种软件技术来开发一种程序，这种程序可以通过网络传播并且能够跨平台运行。于是，世界各大IT企业为此纷纷投入了大量的人力、物力和财力。这个时候，Sun公司想起了那个被搁置起来很久的Oak，并且重新审视了那个用软件编写的试验平台，由于它是按照嵌入式系统硬件平台体系结构进行编写的，所以非常小，特别适用于网络上的传输系统，而Oak也是一种精简的语言，程序非常小，适合在网络上传输。Sun公司首先推出了可以嵌入网页并且可以随同网页在网络上传输的Applet（Applet是一种将小程序嵌入到网页中进行执行的技术），并将Oak更名为Java（在申请注册商标时，发现Oak已经被人使用了，再想了一系列名字之后，最终，使用了提议者在喝一杯Java咖啡时无意提到的Java词语）。5月23日，Sun公司在Sun world会议上正式发布Java和HotJava浏览器。IBM、Apple、DEC、Adobe、HP、Oracle、Netscape和微软等各大公司都纷纷停止了自己的相关开发项目，竞相购买了Java使用许可证，并为自己的产品开发了相应的Java平台。</span><br></pre></td></tr></table></figure>
<p>需求：</p>
<ul>
<li>提取文章中所有的英文单词</li>
<li>提取文章中所有的数字</li>
<li>提取文章中所有的英文单词和数字</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regexp</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 假定编写了爬虫，从百度页面得到如下文本</span></span><br><span class="line">        String content = <span class="string">&quot;1995年，互联网的蓬勃发展给了Oak机会。&quot;</span> +</span><br><span class="line">                <span class="string">&quot;业界为了使死板、单调的静态网页能够“灵活”起来，急&quot;</span> +</span><br><span class="line">                <span class="string">&quot;需一种软件技术来开发一种程序，这种程序可以通过网&quot;</span> +</span><br><span class="line">                <span class="string">&quot;络传播并且能够跨平台运行。于是，世界各大IT企业为&quot;</span> +</span><br><span class="line">                <span class="string">&quot;此纷纷投入了大量的人力、物力和财力。这个时候，Sun&quot;</span> +</span><br><span class="line">                <span class="string">&quot;公司想起了那个被搁置起来很久的Oak，并且重新审视了&quot;</span> +</span><br><span class="line">                <span class="string">&quot;那个用软件编写的试验平台，由于它是按照嵌入式系统硬&quot;</span> +</span><br><span class="line">                <span class="string">&quot;件平台体系结构进行编写的，所以非常小，特别适用于网&quot;</span> +</span><br><span class="line">                <span class="string">&quot;络上的传输系统，而Oak也是一种精简的语言，程序非常小&quot;</span> +</span><br><span class="line">                <span class="string">&quot;，适合在网络上传输。Sun公司首先推出了可以嵌入网页并&quot;</span> +</span><br><span class="line">                <span class="string">&quot;且可以随同网页在网络上传输的Applet（Applet是一种将&quot;</span> +</span><br><span class="line">                <span class="string">&quot;小程序嵌入到网页中进行执行的技术），并将Oak更名为Java&quot;</span> +</span><br><span class="line">                <span class="string">&quot;（在申请注册商标时，发现Oak已经被人使用了，再想了一系&quot;</span> +</span><br><span class="line">                <span class="string">&quot;列名字之后，最终，使用了提议者在喝一杯Java咖啡时无意提&quot;</span> +</span><br><span class="line">                <span class="string">&quot;到的Java词语）。5月23日，Sun公司在Sun world会议上正&quot;</span> +</span><br><span class="line">                <span class="string">&quot;式发布Java和HotJava浏览器。IBM、Apple、DEC、Adobe、&quot;</span> +</span><br><span class="line">                <span class="string">&quot;HP、Oracle、Netscape和微软等各大公司都纷纷停止了自己&quot;</span> +</span><br><span class="line">                <span class="string">&quot;的相关开发项目，竞相购买了Java使用许可证，并为自己的产&quot;</span> +</span><br><span class="line">                <span class="string">&quot;品开发了相应的Java平台。&quot;</span>;</span><br><span class="line">        <span class="comment">// 方法一：传统方法：遍历，代码量大，效率低</span></span><br><span class="line">        <span class="comment">// 方法二：正则表达式</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1.创建Pattern对象，模式对象，可以理解为一个正则表达式对象</span></span><br><span class="line">        <span class="comment">// 匹配英文单词</span></span><br><span class="line">        <span class="comment">// Pattern pattern = Pattern.compile(&quot;[a-zA-Z]+&quot;);</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 匹配数字</span></span><br><span class="line">        <span class="comment">// Pattern pattern = Pattern.compile(&quot;[0-9]+&quot;);</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 匹配英文单词和数字</span></span><br><span class="line">        Pattern pattern = Pattern.compile(<span class="string">&quot;([0-9]+)|([a-zA-Z]+)&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 2.创建一个匹配器对象</span></span><br><span class="line">        <span class="comment">// 理解：matcher匹配器按照pattern(模式/样式)，到content文本中匹配，找到就返回true</span></span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line">        <span class="comment">// 3.循环匹配</span></span><br><span class="line">        <span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">            <span class="comment">// 匹配的内容放到m.group()中</span></span><br><span class="line">            System.out.println(<span class="string">&quot;找到: &quot;</span> + matcher.group(<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>打印结果：（列举部分）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">找到: 1995</span><br><span class="line">找到: Oak</span><br><span class="line">找到: IT</span><br><span class="line">找到: Sun</span><br><span class="line">找到: Oak</span><br><span class="line">找到: Oak</span><br><span class="line">找到: Sun</span><br><span class="line">找到: Applet</span><br><span class="line">找到: Applet</span><br><span class="line">找到: Oak</span><br><span class="line">找到: Java</span><br><span class="line">找到: Oak</span><br><span class="line">找到: Java</span><br><span class="line">找到: Java</span><br><span class="line">找到: 5</span><br><span class="line">找到: 23</span><br><span class="line">找到: Sun</span><br><span class="line">找到: Sun</span><br></pre></td></tr></table></figure>
<h2 id="2-底层实现"><a href="#2-底层实现" class="headerlink" title="2 底层实现"></a>2 底层实现</h2><h3 id="2-1-代码示例1"><a href="#2-1-代码示例1" class="headerlink" title="2.1 代码示例1"></a>2.1 代码示例1</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RegTheory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;1998年12月8日，第二代Java平台的企业版J2EE发&quot;</span> +</span><br><span class="line">                <span class="string">&quot;布。1999年6月，Sun公司发布了第二代Java平台（简称为Java&quot;</span> +</span><br><span class="line">                <span class="string">&quot;2）的3个版本：J2ME（Java2 Micro Edition，Java2平台的&quot;</span> +</span><br><span class="line">                <span class="string">&quot;微型版），应用于移动、无线及有限资源的环境；J2SE（Java 2&quot;</span> +</span><br><span class="line">                <span class="string">&quot; Standard Edition，Java 2平台的标准版），应用于桌面环境&quot;</span> +</span><br><span class="line">                <span class="string">&quot;；J2EE（Java 2Enterprise Edition，Java 2平台的企业版）&quot;</span> +</span><br><span class="line">                <span class="string">&quot;，应用于3443基于Java的应用服务器。Java 2平台的发布，是Java发展&quot;</span> +</span><br><span class="line">                <span class="string">&quot;过程中最重要的一个里程碑，标志着Java的应用开始普及9889&quot;</span>;</span><br><span class="line">        <span class="comment">// 目标：匹配所有四个数字</span></span><br><span class="line">        <span class="comment">// 1. \\d 表示任意一个数字</span></span><br><span class="line">        String regStr = <span class="string">&quot;\\d\\d\\d\\d&quot;</span>;</span><br><span class="line">        <span class="comment">// 2.创建一个模式对象</span></span><br><span class="line">        Pattern pattern = Pattern.compile(regStr);</span><br><span class="line">        <span class="comment">// 3.创建匹配器</span></span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line">        <span class="comment">// 4.开始匹配</span></span><br><span class="line">        <span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;find: &quot;</span> + matcher.group(<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>matcher.find()</code>：</p>
<ul>
<li>根据指定的规则，定位满足规则的子字符串（例如<code>1998</code>）</li>
<li><p>找到后，将子字符串的开始索引和结束索引+1记录在matcher对象的属性 <code>int[] groups;</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 开始位置的索引0，记录在group[0]</span></span><br><span class="line">groups[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// 结束位置的索引+1，记录在group[1]</span></span><br><span class="line">groups[<span class="number">1</span>] = <span class="number">4</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>同时，记录<code>oldLast</code>的值为子字符串的结束索引+1（即4），再次执行<code>find</code>方法时，从<code>oldLast</code>记录的索引值开始进行匹配，同时<code>groups</code>数组全部重置为<code>-1</code></p>
</li>
</ul>
</li>
<li><p><code>matcher.group(0)</code></p>
<ul>
<li>根据<code>groups[0] = 0</code> 和 <code>groups[1] = 4</code>的记录的位置，从<code>content</code>开始截取子字符串并返回，即<code>[0, 4)</code>之间的子串</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">group</span><span class="params">(<span class="keyword">int</span> group)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (first &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="string">&quot;No match found&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (group &lt; <span class="number">0</span> || group &gt; groupCount())</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">&quot;No group &quot;</span> + group);</span><br><span class="line">    <span class="keyword">if</span> ((groups[group*<span class="number">2</span>] == -<span class="number">1</span>) || (groups[group*<span class="number">2</span>+<span class="number">1</span>] == -<span class="number">1</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> getSubSequence(groups[group * <span class="number">2</span>], groups[group * <span class="number">2</span> + <span class="number">1</span>]).toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>输出1998后，再次进行匹配，定位至1999，此时：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 开始位置的索引0，记录在group[0]</span></span><br><span class="line">groups[<span class="number">0</span>] = <span class="number">31</span>;</span><br><span class="line"><span class="comment">// 结束位置的索引+1，记录在group[1]</span></span><br><span class="line">groups[<span class="number">1</span>] = <span class="number">35</span>;</span><br></pre></td></tr></table></figure>
<h3 id="2-2-代码示例2"><a href="#2-2-代码示例2" class="headerlink" title="2.2 代码示例2"></a>2.2 代码示例2</h3><p>考虑分组的情况，即regex中含有小括号的情况。第一对小括号表示第一组，以此类推。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RegTheory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;1998年12月8日，第二代Java平台的企业版J2EE发&quot;</span> +</span><br><span class="line">                <span class="string">&quot;布。1999年6月，Sun公司发布了第二代Java平台（简称为Java&quot;</span> +</span><br><span class="line">                <span class="string">&quot;2）的3个版本：J2ME（Java2 Micro Edition，Java2平台的&quot;</span> +</span><br><span class="line">                <span class="string">&quot;微型版），应用于移动、无线及有限资源的环境；J2SE（Java 2&quot;</span> +</span><br><span class="line">                <span class="string">&quot; Standard Edition，Java 2平台的标准版），应用于桌面环境&quot;</span> +</span><br><span class="line">                <span class="string">&quot;；J2EE（Java 2Enterprise Edition，Java 2平台的企业版）&quot;</span> +</span><br><span class="line">                <span class="string">&quot;，应用于3443基于Java的应用服务器。Java 2平台的发布，是Java发展&quot;</span> +</span><br><span class="line">                <span class="string">&quot;过程中最重要的一个里程碑，标志着Java的应用开始普及9889&quot;</span>;</span><br><span class="line">        <span class="comment">// 1. \\d 表示任意一个数字</span></span><br><span class="line">        String regStr = <span class="string">&quot;(\\d\\d)(\\d\\d)&quot;</span>;</span><br><span class="line">        <span class="comment">// 2.创建一个模式对象</span></span><br><span class="line">        Pattern pattern = Pattern.compile(regStr);</span><br><span class="line">        <span class="comment">// 3.创建匹配器</span></span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line">        <span class="comment">// 4.开始匹配</span></span><br><span class="line">        <span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;find: &quot;</span> + matcher.group(<span class="number">0</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;第1组()匹配到的值: &quot;</span> + matcher.group(<span class="number">1</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;第2组()匹配到的值: &quot;</span> + matcher.group(<span class="number">2</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>打印结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">find: 1998</span><br><span class="line">第1组()匹配到的值: 19</span><br><span class="line">第2组()匹配到的值: 98</span><br><span class="line">find: 1999</span><br><span class="line">第1组()匹配到的值: 19</span><br><span class="line">第2组()匹配到的值: 99</span><br><span class="line">find: 3443</span><br><span class="line">第1组()匹配到的值: 34</span><br><span class="line">第2组()匹配到的值: 43</span><br><span class="line">find: 9889</span><br><span class="line">第1组()匹配到的值: 98</span><br><span class="line">第2组()匹配到的值: 89</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>matcher.find()</code>：</p>
<ul>
<li><p>根据指定的规则，定位满足规则的子字符串（例如<code>(19)(98)</code>）</p>
</li>
<li><p>找到后，将子字符串和分组的开始索引和结束索引+1记录在matcher对象的属性 <code>int[] groups;</code>，此时groups数组的取值为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1998 索引从左到右分别为0, 1, 2, 3</span></span><br><span class="line">groups[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">groups[<span class="number">1</span>] = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第一组：19 索引从左到右分别为0, 1</span></span><br><span class="line">groups[<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">groups[<span class="number">3</span>] = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二组：98 索引从左到右分别为2, 3</span></span><br><span class="line">groups[<span class="number">4</span>] = <span class="number">2</span>;</span><br><span class="line">groups[<span class="number">5</span>] = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果有更多的分组，以此类推</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>小结：如果正则表达式有分组，取出匹配的字符串规则如下：</p>
<ul>
<li><code>groups(0)</code>：表示匹配到的子串</li>
<li><code>groups(1)</code>：表示匹配到的子串的第一组子串</li>
<li><code>groups(2)</code>：表示匹配到的子串的第二组子串</li>
<li>分组不能够越界</li>
<li>以此类推</li>
</ul>
</li>
</ul>
<h2 id="3-正则表达式语法"><a href="#3-正则表达式语法" class="headerlink" title="3 正则表达式语法"></a>3 正则表达式语法</h2><p>正则表达式中的元字符从功能上大致分为：</p>
<ul>
<li>限定符</li>
<li>选择匹配符</li>
<li>分组组合和反向引用符</li>
<li>特殊字符</li>
<li>字符匹配符</li>
<li>定位符</li>
</ul>
<h3 id="3-1-正则转义符"><a href="#3-1-正则转义符" class="headerlink" title="3.1 正则转义符"></a>3.1 正则转义符</h3><p>转义符<code>\\</code>：使用正则表达式去撇皮某些特殊字符时，需要用到转义符。注意在java中，转义符号用两个反斜杠<code>\</code>。</p>
<p>需要用到转义符号的字符有：<code>. * + ( ) $ / \ ? [ ] ^ &#123; &#125;</code>，注意，在<code>[]</code>中不需要转义，会自动转义，例如<code>[?]</code>匹配的就是一个实实在在的<code>?</code></p>
<blockquote>
<p>代码示例</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 演示转义字符的使用</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regex01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;abc$(abc(123(&quot;</span>;</span><br><span class="line">        <span class="comment">// 匹配(</span></span><br><span class="line">        String regStr = <span class="string">&quot;\\(&quot;</span>;</span><br><span class="line">        Pattern pattern = Pattern.compile(regStr);</span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line">        <span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;find: &quot;</span> + matcher.group(<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find: (</span><br><span class="line">find: (</span><br><span class="line">find: (</span><br></pre></td></tr></table></figure>
<h3 id="3-2-字符匹配符"><a href="#3-2-字符匹配符" class="headerlink" title="3.2 字符匹配符"></a>3.2 字符匹配符</h3><h4 id="3-2-1-概述"><a href="#3-2-1-概述" class="headerlink" title="3.2.1 概述"></a>3.2.1 概述</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">符号</th>
<th style="text-align:center">含义</th>
<th style="text-align:center">示例</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>[]</code></td>
<td style="text-align:center">可接受的字符列表</td>
<td style="text-align:center"><code>[efgh]</code></td>
<td style="text-align:center">efgh中的任意一个字符，<strong>可自动转义</strong></td>
</tr>
<tr>
<td style="text-align:center"><code>[^]</code></td>
<td style="text-align:center">不可接受的字符列表</td>
<td style="text-align:center"><code>[^abc]</code></td>
<td style="text-align:center">除abc之外的任意一个字符，包括数字和特殊符号</td>
</tr>
<tr>
<td style="text-align:center"><code>-</code></td>
<td style="text-align:center">连字符</td>
<td style="text-align:center"><code>A-Z</code></td>
<td style="text-align:center">任意<strong>单个</strong>大写字母</td>
</tr>
<tr>
<td style="text-align:center"><code>.</code></td>
<td style="text-align:center">匹配除<code>\n</code>以外的任何一个字符</td>
<td style="text-align:center"><code>a..b</code></td>
<td style="text-align:center">以a开头，b结尾，中间包括2个任意字符的长度为4的字符串</td>
</tr>
<tr>
<td style="text-align:center"><code>\\d</code></td>
<td style="text-align:center">匹配单个数字字符，相当于<code>[0-9]</code></td>
<td style="text-align:center"><code>\\d&#123;3&#125;(\\d)?</code></td>
<td style="text-align:center">包含3个或4个数字的字符串</td>
</tr>
<tr>
<td style="text-align:center"><code>\\D</code></td>
<td style="text-align:center">匹配单个非数字字符，相当于<code>[^0-9]</code></td>
<td style="text-align:center"><code>\\D(\\d)*</code></td>
<td style="text-align:center">以单个非数字字符开头，后接任意个数字的字符串</td>
</tr>
<tr>
<td style="text-align:center"><code>\\w</code></td>
<td style="text-align:center">匹配单个数字、大小写字母字符，下划线，相当于<code>[0-9a-zA-Z_]</code></td>
<td style="text-align:center"><code>\\d&#123;3&#125;\\w&#123;4&#125;</code></td>
<td style="text-align:center">以3个数字字符开头的长度为7的数字字母字符串</td>
</tr>
<tr>
<td style="text-align:center"><code>\\W</code></td>
<td style="text-align:center">匹配单个非数字、非大小写字母字符，非下划线，相当于<code>[^0-9a-zA-Z_]</code></td>
<td style="text-align:center"><code>\\W+\\d&#123;2&#125;</code></td>
<td style="text-align:center">以至少1个非数字字母字符开头，2个数字字符结尾的字符串</td>
</tr>
<tr>
<td style="text-align:center"><code>\\s</code></td>
<td style="text-align:center">匹配单个任意空白字符（例如空格，制表符等）</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><code>\\S</code></td>
<td style="text-align:center">匹配单个任意非空白字符</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><p>注意</p>
<ul>
<li><code>\\d&#123;3&#125;</code>：表示连续三个数字字符，等价于<code>\\d\\d\\d</code></li>
<li><code>(\\d)?</code>：表示可能有0个或1个数字字符</li>
<li>其他符号后面再讲</li>
</ul>
</li>
<li><p>java正则表达式<strong>默认是区分大小写</strong>的，但可以实现不区分大小写</p>
<ul>
<li><p>方法一：利用<code>(?i)</code></p>
<ul>
<li><code>(?i)abc</code>：表示abc都不区分大小写</li>
<li><code>a(?i)bc</code>：表示bc不区分大小写</li>
<li><code>a((?i)b)c</code>：表示b不区分大小写</li>
</ul>
</li>
<li><p>方法二：设置大小写不敏感</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Pattern pattern = Pattern.compile(regStr, Pattern.CASE_INSENSITIVE);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="3-2-2-代码演示"><a href="#3-2-2-代码演示" class="headerlink" title="3.2.2 代码演示"></a>3.2.2 代码演示</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字符匹配符的使用</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regex02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;a11c8&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1.匹配a到z中任意一个字符</span></span><br><span class="line">        String regStr1 = <span class="string">&quot;[a-z]&quot;</span>; <span class="comment">// a,c</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.匹配A到Z中任意一个字符</span></span><br><span class="line">        String regStr2 = <span class="string">&quot;[A-Z]&quot;</span>; <span class="comment">// null</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.匹配abc字符串</span></span><br><span class="line">        String regStr3 = <span class="string">&quot;abc&quot;</span>; <span class="comment">// null</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.匹配abc字符串，不区分大小写</span></span><br><span class="line">        String regStr4 = <span class="string">&quot;(?i)abc&quot;</span>; <span class="comment">// null</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 5.匹配不在a-z之间的任意连续两个字符</span></span><br><span class="line">        String regStr5 = <span class="string">&quot;[^a-z]&#123;2&#125;&quot;</span>; <span class="comment">// 11</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6.匹配不在0-9之间的任意单个字符</span></span><br><span class="line">        String regStr6 = <span class="string">&quot;[^0-9]&quot;</span>; <span class="comment">// a,c</span></span><br><span class="line">        </span><br><span class="line">        Pattern pattern = Pattern.compile(regStr1);</span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;find: &quot;</span> + matcher.group(<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-3-选择匹配符"><a href="#3-3-选择匹配符" class="headerlink" title="3.3 选择匹配符"></a>3.3 选择匹配符</h3><p>在匹配某个字符串的时候是选择性的，即：既可以匹配这个，又可以匹配那个，这时候需要使用选择匹配符。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">符号</th>
<th style="text-align:center">含义</th>
<th style="text-align:center">示例</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">`</td>
<td style="text-align:center">`</td>
<td style="text-align:center">匹配`</td>
<td style="text-align:center">`之前或之后的表达式</td>
<td>`ab</td>
<td>cd`</td>
<td>ab或者cd</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>代码示例</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 选择匹配符使用</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regex03</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;Hongyi Mark 四川省成都市&quot;</span>;</span><br><span class="line">        String regStr = <span class="string">&quot;(?i)hong|四川|成都&quot;</span>;</span><br><span class="line"></span><br><span class="line">        Pattern pattern = Pattern.compile(regStr);</span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;find: &quot;</span> + matcher.group(<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>打印结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find: Hong</span><br><span class="line">find: 四川</span><br><span class="line">find: 成都</span><br></pre></td></tr></table></figure>
<h3 id="3-4-限定符"><a href="#3-4-限定符" class="headerlink" title="3.4 限定符"></a>3.4 限定符</h3><p>限定符用于指定<strong>前面</strong>的字符和组合项连续出现多少次。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">符号</th>
<th style="text-align:center">含义</th>
<th style="text-align:center">示例</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>*</code></td>
<td style="text-align:center">指定字符重复0次或n次，<strong>零到多</strong></td>
<td style="text-align:center"><code>(abc)*</code></td>
<td style="text-align:center">仅包含任意个abc的字符串</td>
</tr>
<tr>
<td style="text-align:center"><code>+</code></td>
<td style="text-align:center">指定字符重复1次或n次，<strong>一到多</strong></td>
<td style="text-align:center"><code>m+(abc)*</code></td>
<td style="text-align:center">以至少1个m开头，后接任意个abc的字符串</td>
</tr>
<tr>
<td style="text-align:center"><code>?</code></td>
<td style="text-align:center">指定字符重复0次或1次，<strong>零到一</strong></td>
<td style="text-align:center"><code>m+abc?</code></td>
<td style="text-align:center">以至少1个m开头，后接abc或ab的字符串</td>
</tr>
<tr>
<td style="text-align:center"><code>&#123;n&#125;</code></td>
<td style="text-align:center">只能输出n个字符</td>
<td style="text-align:center"><code>[abcd]&#123;3&#125;</code></td>
<td style="text-align:center">由abcd中的字母组成的任意长度为3的字符串</td>
</tr>
<tr>
<td style="text-align:center"><code>&#123;n,&#125;</code></td>
<td style="text-align:center">指定至少n个匹配</td>
<td style="text-align:center"><code>[abcd]&#123;3,&#125;</code></td>
<td style="text-align:center">由abcd中的字母组成的任意长度不小于3的字符串</td>
</tr>
<tr>
<td style="text-align:center"><code>&#123;n,m&#125;</code></td>
<td style="text-align:center">指定至少n个但不多于m个匹配</td>
<td style="text-align:center"><code>[abcd]&#123;3,5&#125;</code></td>
<td style="text-align:center">由abcd中的字母组成的任意长度不小于3但不大于5的字符串</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>代码示例</p>
</blockquote>
<p>细节：java匹配默认<strong>贪婪匹配</strong>，即<strong>尽可能匹配多的字符串</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 限定符使用</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regex04</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;11111111aaaaaa2345&quot;</span>;</span><br><span class="line"></span><br><span class="line">        String regStr1 = <span class="string">&quot;a&#123;3,4&#125;&quot;</span>; <span class="comment">// aaaa 而不会输出 aaa,aaa</span></span><br><span class="line">        </span><br><span class="line">        String regStr2 = <span class="string">&quot;1+&quot;</span>; <span class="comment">// 11111111</span></span><br><span class="line">        </span><br><span class="line">        String regStr2 = <span class="string">&quot;\\d+&quot;</span>; <span class="comment">// 11111111,2345</span></span><br><span class="line"></span><br><span class="line">        Pattern pattern = Pattern.compile(regStr);</span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;find: &quot;</span> + matcher.group(<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-5-定位符"><a href="#3-5-定位符" class="headerlink" title="3.5 定位符"></a>3.5 定位符</h3><p>定位符的作用是规定要匹配的字符串出现的位置，比如在字符串的开始还是结束的位置。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">符号</th>
<th style="text-align:center">含义</th>
<th style="text-align:center">示例</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>^</code></td>
<td style="text-align:center">指定起始字符</td>
<td style="text-align:center"><code>^[0-9]+[a-z]*</code></td>
<td style="text-align:center">以至少1个数字开头，后接任意个小写字母的字符串</td>
</tr>
<tr>
<td style="text-align:center">$$`</td>
<td style="text-align:center">指定结束字符</td>
<td style="text-align:center">`^[0-9]\-[a-z]+$$</td>
<td style="text-align:center">以1个数字开头，后接连字符<code>-</code>，并以至少一个小写字母结尾的字符串</td>
</tr>
<tr>
<td style="text-align:center"><code>\\b</code></td>
<td style="text-align:center">匹配目标字符串的边界</td>
<td style="text-align:center"><code>han\\b</code></td>
<td style="text-align:center">这里说的字符串边界指的是子串间有空格，或者是目标字符串的结束位置</td>
</tr>
<tr>
<td style="text-align:center"><code>\\B</code></td>
<td style="text-align:center">匹配目标字符串的非边界</td>
<td style="text-align:center"><code>han\\B</code></td>
<td style="text-align:center">和<code>\\b</code>含义相反</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>代码演示</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定位符使用</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regex05</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;a123abc&quot;</span>;</span><br><span class="line"></span><br><span class="line">        String regStr = <span class="string">&quot;^[0-9]+[a-z]*&quot;</span>; <span class="comment">// null</span></span><br><span class="line"></span><br><span class="line">        Pattern pattern = Pattern.compile(regStr);</span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;find: &quot;</span> + matcher.group(<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-6-分组-捕获-反向引用"><a href="#3-6-分组-捕获-反向引用" class="headerlink" title="3.6 分组 捕获 反向引用"></a>3.6 分组 捕获 反向引用</h3><ul>
<li>分组：我们可以用圆括号组成一个比较复杂的匹配模式，一个圆括号的部分就可以看作是一个子表达式</li>
<li>捕获：把正则表达式中子表达式/分组匹配的内容，保存到内存中，以数字编号或显式命名的组里，方便后面引用。注意组0代表的是整个正则式，分组编号从1开始。</li>
<li>反向引用：圆括号的内容被捕获后，可以在这个括号后被使用，从而写出一个比较实用的匹配模式。这种引用既可以在正则表达式内部，也可以在外部。内部反向引用使用<code>\\分组号</code>，外部引用使用<code>$分组号</code></li>
</ul>
<h4 id="3-6-1-捕获分组"><a href="#3-6-1-捕获分组" class="headerlink" title="3.6.1 捕获分组"></a>3.6.1 捕获分组</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">常用分组构造形式</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>(pattern)</code></td>
<td style="text-align:center">非命名捕获。捕获匹配的子字符串。编号为零的第一个捕获是由整个正则表达式模式匹配的文本，其他捕获结果则根据左括号的顺序从1开始自动编号</td>
</tr>
<tr>
<td style="text-align:center"><code>(?&lt;name&gt;pattern)</code></td>
<td style="text-align:center">命名捕获。将匹配的子字符串捕获到一个组名称或编号名称中。用于name的字符串不能包含任何标点符号，并且不能以数字开头。可以使用单引号代替尖括号，例如<code>(?&#39;name&#39;)</code></td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>代码示例</p>
</blockquote>
<ul>
<li>非命名捕获分组</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 分组</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regex06</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;Hongyi s7788 nn1198han&quot;</span>;</span><br><span class="line"></span><br><span class="line">        String regStr = <span class="string">&quot;(\\d\\d)(\\d\\d)&quot;</span>;</span><br><span class="line"></span><br><span class="line">        Pattern pattern = Pattern.compile(regStr);</span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;find: &quot;</span> + matcher.group(<span class="number">0</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;第一个分组的内容: &quot;</span> + matcher.group(<span class="number">1</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;第二个分组的内容: &quot;</span> + matcher.group(<span class="number">2</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">find: 7788</span><br><span class="line">第一个分组的内容: 77</span><br><span class="line">第二个分组的内容: 88</span><br><span class="line">find: 1198</span><br><span class="line">第一个分组的内容: 11</span><br><span class="line">第二个分组的内容: 98</span><br></pre></td></tr></table></figure>
<ul>
<li>命名捕获分组</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 分组</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regex06</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;Hongyi s7788 nn1198han&quot;</span>;</span><br><span class="line"></span><br><span class="line">        String regStr = <span class="string">&quot;(?&lt;g1&gt;\\d\\d)(?&lt;g2&gt;\\d\\d)&quot;</span>;</span><br><span class="line"></span><br><span class="line">        Pattern pattern = Pattern.compile(regStr);</span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;find: &quot;</span> + matcher.group(<span class="number">0</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;第一个分组的内容: &quot;</span> + matcher.group(<span class="string">&quot;g1&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;第二个分组的内容: &quot;</span> + matcher.group(<span class="string">&quot;g2&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-6-2-非捕获分组"><a href="#3-6-2-非捕获分组" class="headerlink" title="3.6.2 非捕获分组"></a>3.6.2 非捕获分组</h4><ul>
<li><code>(?:pattern)</code>：匹配pattern但不捕获该匹配的子表达式，即它是一个非捕获匹配，不存储供以后使用的匹配。这对于用<code>or(|)</code>组合模式部件的情况很有用。<ul>
<li><code>industr(?:y|ies)</code>是比<code>industry|industries</code>更经济的表达式</li>
</ul>
</li>
<li><code>(?=pattern)</code>：非捕获匹配<ul>
<li><code>Windows(?=95|98|NT|2000)</code>匹配<code>Windows 2000</code>中的<code>Windows</code>，但不匹配<code>Windows 3.1</code>中的<code>Windows</code></li>
</ul>
</li>
<li><code>(?!pattern)</code>：非捕获匹配。匹配不处于匹配<code>pattern</code>的字符串的起始点的搜索字符串，即与第二条规则匹配相反的内容</li>
</ul>
<blockquote>
<p>代码演示</p>
</blockquote>
<p>给定字符串：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello韩顺平教育 jack韩顺平老师 韩顺平同学hello</span><br></pre></td></tr></table></figure>
<ul>
<li>需求1：找到韩顺平教育、韩顺平老师、韩顺平同学三个字符串</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regex08</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;hello韩顺平教育 jack韩顺平老师 韩顺平同学hello&quot;</span>;</span><br><span class="line"></span><br><span class="line">        String regStr = <span class="string">&quot;韩顺平(?:教育|老师|同学)&quot;</span>;</span><br><span class="line"></span><br><span class="line">        Pattern pattern = Pattern.compile(regStr);</span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;find: &quot;</span> + matcher.group(<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find: 韩顺平教育</span><br><span class="line">find: 韩顺平老师</span><br><span class="line">find: 韩顺平同学</span><br></pre></td></tr></table></figure>
<p>注意：这里并没有分组，不能使用<code>matcher.group(1)</code></p>
<ul>
<li>需求2：查找韩顺平关键字，但只找韩顺平教育和韩顺平老师含有的</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 非捕获分组</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regex08</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;hello韩顺平教育 jack韩顺平老师 韩顺平同学hello&quot;</span>;</span><br><span class="line"></span><br><span class="line">        String regStr = <span class="string">&quot;韩顺平(?=教育|老师)&quot;</span>;</span><br><span class="line"></span><br><span class="line">        Pattern pattern = Pattern.compile(regStr);</span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;find: &quot;</span> + matcher.group(<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find: 韩顺平</span><br><span class="line">find: 韩顺平</span><br></pre></td></tr></table></figure>
<ul>
<li>需求3：查找韩顺平关键字，但不找韩顺平教育和韩顺平老师含有的</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String regStr = <span class="string">&quot;韩顺平(?!教育|老师)&quot;</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find: 韩顺平</span><br></pre></td></tr></table></figure>
<h4 id="3-6-3-反向引用"><a href="#3-6-3-反向引用" class="headerlink" title="3.6.3 反向引用"></a>3.6.3 反向引用</h4><ul>
<li>需求：匹配两个连续的相同数字</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String content = <span class="string">&quot;hello jack11 tom22 Hongyi&quot;</span>;</span><br><span class="line">String regStr = <span class="string">&quot;(\\d)\\1&quot;</span>; <span class="comment">// 11 22</span></span><br></pre></td></tr></table></figure>
<ul>
<li>需求：匹配四个连续的相同数字</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String content = <span class="string">&quot;hello jack1111 tom2222 Hongyi&quot;</span>;</span><br><span class="line">String regStr = <span class="string">&quot;(\\d)\\1&#123;4&#125;&quot;</span>; <span class="comment">// 1111 2222</span></span><br></pre></td></tr></table></figure>
<ul>
<li>需求：匹配四位的回文数</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String content = <span class="string">&quot;hello jack1221 tom2332 Hongyi&quot;</span>;</span><br><span class="line">String regStr = <span class="string">&quot;(\\d)(\\d)\\2\\1&quot;</span>; <span class="comment">// 1221 2332</span></span><br></pre></td></tr></table></figure>
<ul>
<li>需求：形如<code>12319-333999111</code>，前面是一个五位数，紧随连字符，然后是一个九位数，连续的三位要相同</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String regStr = <span class="string">&quot;\\d&#123;5&#125;-(\\d)\\1&#123;2&#125;(\\d)\\2&#123;2&#125;(\\d)\\3&#123;2&#125;&quot;</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>需求：结巴去重，把类似<code>我...我要...学学学学...编程java!</code>修改为<code>我要学编程java!</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regex04</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;我...我要...学学学学...编程java!&quot;</span>;</span><br><span class="line">        <span class="comment">// 1.去掉所有的.</span></span><br><span class="line">        Pattern pattern = Pattern.compile(<span class="string">&quot;\\.&quot;</span>);</span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line">        content = matcher.replaceAll(<span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 此时 content = &quot;我我要学学学学编程java!&quot;</span></span><br><span class="line">        <span class="comment">// 2.去掉重复的字</span></span><br><span class="line">        <span class="comment">// 使用 (.)\\1+ 匹配</span></span><br><span class="line">        pattern = Pattern.compile(<span class="string">&quot;(.)\\1+&quot;</span>); <span class="comment">// 分组捕获的内容记录到$1</span></span><br><span class="line">        matcher = pattern.matcher(content);</span><br><span class="line"></span><br><span class="line">        content = matcher.replaceAll(<span class="string">&quot;$1&quot;</span>);</span><br><span class="line">        System.out.println(content);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>更简洁的方法（去掉<code>.</code>之后用一条语句完成）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">content = Pattern.compile(<span class="string">&quot;(.)\\1+&quot;</span>).matcher(content).replaceAll(<span class="string">&quot;$1&quot;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="3-7-非贪婪匹配"><a href="#3-7-非贪婪匹配" class="headerlink" title="3.7 非贪婪匹配"></a>3.7 非贪婪匹配</h3><p>前面提到java的匹配默认是贪婪匹配，但<code>?</code>字符紧随其他任何限定符（<code>* + ? &#123;n&#125; &#123;n,&#125; &#123;n,m&#125;</code>）之后时，转变为非贪婪匹配。</p>
<blockquote>
<p>代码示例</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regex09</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;hello 1111 ok&quot;</span>;</span><br><span class="line"></span><br><span class="line">        String regStr = <span class="string">&quot;\\d+&quot;</span>; <span class="comment">// 1111</span></span><br><span class="line">        String regStr1 = <span class="string">&quot;\\d+?&quot;</span>; <span class="comment">// 输出4个1</span></span><br><span class="line"></span><br><span class="line">        Pattern pattern = Pattern.compile(regStr1);</span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;find: &quot;</span> + matcher.group(<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-8-实践案例"><a href="#3-8-实践案例" class="headerlink" title="3.8 实践案例"></a>3.8 实践案例</h3><h4 id="3-8-1-汉字"><a href="#3-8-1-汉字" class="headerlink" title="3.8.1  汉字"></a>3.8.1  汉字</h4><p>需求：给定一段文字，检验文字是否全部为汉字。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regex10</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;韩顺平教a育&quot;</span>;</span><br><span class="line">		<span class="comment">// \u0391-\uffe5为汉字的编码范围</span></span><br><span class="line">        String regStr = <span class="string">&quot;^[\u0391-\uffe5]+$&quot;</span>;</span><br><span class="line"></span><br><span class="line">        Pattern pattern = Pattern.compile(regStr);</span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (matcher.find()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;满足格式&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;不满足格式&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">不满足格式</span><br></pre></td></tr></table></figure>
<h4 id="3-8-2-邮政编码"><a href="#3-8-2-邮政编码" class="headerlink" title="3.8.2 邮政编码"></a>3.8.2 邮政编码</h4><p>需求：验证是否为邮政编码</p>
<p>特点：1-9开头的六位数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String regStr = <span class="string">&quot;^[1-9]\\d&#123;5&#125;$&quot;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="3-8-3-QQ号"><a href="#3-8-3-QQ号" class="headerlink" title="3.8.3 QQ号"></a>3.8.3 QQ号</h4><p>需求：验证qq号</p>
<p>特点：1-9开头的一个（5-10位数）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String regStr = <span class="string">&quot;^[1-9]\\d&#123;4,9&#125;$&quot;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="3-8-4-手机号码"><a href="#3-8-4-手机号码" class="headerlink" title="3.8.4 手机号码"></a>3.8.4 手机号码</h4><p>需求：验证是否为手机号码</p>
<p>特点：必须以13,14,15,18开头的11位数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String regStr = <span class="string">&quot;^[1](?:3|4|5|8)\\d&#123;9&#125;$&quot;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="3-8-5-URL"><a href="#3-8-5-URL" class="headerlink" title="3.8.5 URL"></a>3.8.5 URL</h4><ul>
<li>需求：验证URL</li>
<li>例如：<code>https://www.bilibili.com/video/BV1Eq4y1E79W?p=17&amp;spm_id_from=pageDriver</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String regStr = <span class="string">&quot;^((http|https)://)?([\\w-]+\\.)+[\\w-]+(\\/[\\w-?=&amp;/%.#]*)?&quot;</span>;</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://kisugitakumi.oss-cn-chengdu.aliyuncs.com/img12/image-20220321211739945.png" alt="image-20220321211739945"></p>
<h2 id="4-常用类"><a href="#4-常用类" class="headerlink" title="4 常用类"></a>4 常用类</h2><p><code>java.util.regex</code>包主要包括三个类：</p>
<ol>
<li><p><code>Pattern</code>类</p>
</li>
<li><p><code>Matcher</code>类</p>
</li>
<li><code>PatternSyntaxException</code>类：非强制异常类，表示一个正则表达式模式中的语法错误。</li>
</ol>
<h3 id="4-1-Pattern类"><a href="#4-1-Pattern类" class="headerlink" title="4.1 Pattern类"></a>4.1 Pattern类</h3><p>pattern对象是一个正则表达式对象。Pattern类没有公共构造方法。要创造一个Pattern对象，需要调用其公共静态方法，返回一个Pattern类对象，该方法接收一个正则表达式作为它的第一个参数。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Pattern r = Pattern.conpile(pattern);</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>matches</code>方法</p>
</blockquote>
<p>用于整体匹配（从头开始检验），在验证输入的字符串是否满足条件时使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 演示matchers方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regex01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;hello abc hello, 韩顺平教育&quot;</span>;</span><br><span class="line"></span><br><span class="line">        String regStr = <span class="string">&quot;hello&quot;</span>; <span class="comment">// false</span></span><br><span class="line">        String regStr1 = <span class="string">&quot;hello.*&quot;</span>; <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">boolean</span> matches = Pattern.matches(regStr1, content);</span><br><span class="line">        System.out.println(<span class="string">&quot;整体匹配=&quot;</span> + matches);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>源码</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">matches</span><span class="params">(String regex, CharSequence input)</span> </span>&#123;</span><br><span class="line">    Pattern p = Pattern.compile(regex);</span><br><span class="line">    Matcher m = p.matcher(input);</span><br><span class="line">    <span class="keyword">return</span> m.matches();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-2-Matcher类"><a href="#4-2-Matcher类" class="headerlink" title="4.2 Matcher类"></a>4.2 Matcher类</h3><p>Matcher对象是对输入字符串进行解释和匹配的引擎，它也没有公共构造方法，需要调用Pattern对象的matcher方法来获得一个Matcher对象。</p>
<blockquote>
<p>常用方法</p>
</blockquote>
<ul>
<li><p><code>public int start()</code>：返回以前匹配的初始索引。</p>
</li>
<li><p><code>public int start(int group)</code>：返回在以前的匹配操作期间，由给定组所捕获的子序列的初始索引</p>
</li>
<li><p><code>public int end()</code>：返回最后匹配字符之后的偏移量。</p>
</li>
<li><p><code>public int end(int group)</code>：返回在以前的匹配操作期间，由给定组所捕获子序列的最后字符之后的偏移量。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regex02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;hello abc jack hello atm Hongyi&quot;</span>;</span><br><span class="line"></span><br><span class="line">        String regStr = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"></span><br><span class="line">        Pattern pattern = Pattern.compile(regStr);</span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;==============&quot;</span>);</span><br><span class="line">            System.out.println(matcher.start());</span><br><span class="line">            System.out.println(matcher.end());</span><br><span class="line">            System.out.println(<span class="string">&quot;find: &quot;</span> + content.substring(matcher.start(), matcher.end()));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">==============</span><br><span class="line">0</span><br><span class="line">5</span><br><span class="line">find: hello</span><br><span class="line">==============</span><br><span class="line">15</span><br><span class="line">20</span><br><span class="line">find: hello</span><br></pre></td></tr></table></figure>
<ul>
<li><code>public boolean matches()</code>：尝试将整个区域与模式匹配（整体匹配）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regex02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;hello abc jack hello atm Hongyi&quot;</span>;</span><br><span class="line"></span><br><span class="line">        String regStr = <span class="string">&quot;hello&quot;</span>; <span class="comment">// false</span></span><br><span class="line">        String regStr1 = <span class="string">&quot;hello.*&quot;</span>; <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">        Pattern pattern = Pattern.compile(regStr);</span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">&quot;整体匹配: &quot;</span> + matcher.matches());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>public String replaceAll(String replacement)</code>：替换模式与给定替换字符串相匹配的输入序列的每个子序列。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Regex02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;hello abc jack hello atm Hongyi&quot;</span>;</span><br><span class="line"></span><br><span class="line">        String regStr = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"></span><br><span class="line">        Pattern pattern = Pattern.compile(regStr);</span><br><span class="line">        Matcher matcher = pattern.matcher(content);</span><br><span class="line">        <span class="comment">// 注意原来的字符串content并没有改变</span></span><br><span class="line">        String newContent = matcher.replaceAll(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">        System.out.println(content);</span><br><span class="line">        System.out.println(newContent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hello abc jack hello atm Hongyi</span><br><span class="line">world abc jack world atm Hongyi</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://kisugitakumi.com">Kisugi Takumi</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://kisugitakumi.com">https://kisugitakumi.com</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">此文章版权归Kisugi Takumi所有，如有转载，请註明来自原作者</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">正则表达式</a><a class="post-meta__tags" href="/tags/%E5%AE%9E%E7%94%A8%E6%8A%80%E6%9C%AF/">实用技术</a></div><div class="post_share"><div class="social-share" data-image="/img/regex.png" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/03/14/Java%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><img class="prev-cover" src="/img/java.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Java基础学习笔记</div></div></a></div><div class="next-post pull-right"><a href="/2022/03/06/Postman%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><img class="next-cover" src="/img/postman.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Postman学习笔记</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Java%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0"><span class="toc-text">Java正则表达式学习笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0"><span class="toc-text">1 概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0"><span class="toc-text">2 底层实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B1"><span class="toc-text">2.1 代码示例1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B2"><span class="toc-text">2.2 代码示例2</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%AD%E6%B3%95"><span class="toc-text">3 正则表达式语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E6%AD%A3%E5%88%99%E8%BD%AC%E4%B9%89%E7%AC%A6"><span class="toc-text">3.1 正则转义符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%AD%97%E7%AC%A6%E5%8C%B9%E9%85%8D%E7%AC%A6"><span class="toc-text">3.2 字符匹配符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-%E6%A6%82%E8%BF%B0"><span class="toc-text">3.2.1 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2-%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA"><span class="toc-text">3.2.2 代码演示</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E9%80%89%E6%8B%A9%E5%8C%B9%E9%85%8D%E7%AC%A6"><span class="toc-text">3.3 选择匹配符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E9%99%90%E5%AE%9A%E7%AC%A6"><span class="toc-text">3.4 限定符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%AE%9A%E4%BD%8D%E7%AC%A6"><span class="toc-text">3.5 定位符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E5%88%86%E7%BB%84-%E6%8D%95%E8%8E%B7-%E5%8F%8D%E5%90%91%E5%BC%95%E7%94%A8"><span class="toc-text">3.6 分组 捕获 反向引用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-6-1-%E6%8D%95%E8%8E%B7%E5%88%86%E7%BB%84"><span class="toc-text">3.6.1 捕获分组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-6-2-%E9%9D%9E%E6%8D%95%E8%8E%B7%E5%88%86%E7%BB%84"><span class="toc-text">3.6.2 非捕获分组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-6-3-%E5%8F%8D%E5%90%91%E5%BC%95%E7%94%A8"><span class="toc-text">3.6.3 反向引用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-%E9%9D%9E%E8%B4%AA%E5%A9%AA%E5%8C%B9%E9%85%8D"><span class="toc-text">3.7 非贪婪匹配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-8-%E5%AE%9E%E8%B7%B5%E6%A1%88%E4%BE%8B"><span class="toc-text">3.8 实践案例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-8-1-%E6%B1%89%E5%AD%97"><span class="toc-text">3.8.1  汉字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-8-2-%E9%82%AE%E6%94%BF%E7%BC%96%E7%A0%81"><span class="toc-text">3.8.2 邮政编码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-8-3-QQ%E5%8F%B7"><span class="toc-text">3.8.3 QQ号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-8-4-%E6%89%8B%E6%9C%BA%E5%8F%B7%E7%A0%81"><span class="toc-text">3.8.4 手机号码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-8-5-URL"><span class="toc-text">3.8.5 URL</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%B8%B8%E7%94%A8%E7%B1%BB"><span class="toc-text">4 常用类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-Pattern%E7%B1%BB"><span class="toc-text">4.1 Pattern类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-Matcher%E7%B1%BB"><span class="toc-text">4.2 Matcher类</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background: linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By Kisugi Takumi</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my blog!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>